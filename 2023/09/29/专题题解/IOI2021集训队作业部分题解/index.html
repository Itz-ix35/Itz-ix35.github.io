<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha256-xejo6yLi6vGtAjcMIsY8BHdKsLg7QynVlFMzdQgUuy8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"itz-ix35.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.12.3","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":true,"show_result":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="这里包含了我当时 12 月初之前做的所有题目，由于还有很多题目是在那之后做的，所以并不全">
<meta property="og:type" content="article">
<meta property="og:title" content="专题题解 - IOI 2021 集训队作业部分题解">
<meta property="og:url" content="https://itz-ix35.github.io/2023/09/29/%E4%B8%93%E9%A2%98%E9%A2%98%E8%A7%A3/IOI2021%E9%9B%86%E8%AE%AD%E9%98%9F%E4%BD%9C%E4%B8%9A%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/index.html">
<meta property="og:site_name" content="ix35&#39;s Blog">
<meta property="og:description" content="这里包含了我当时 12 月初之前做的所有题目，由于还有很多题目是在那之后做的，所以并不全">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-09-29T12:47:44.086Z">
<meta property="article:modified_time" content="2025-02-21T01:01:56.548Z">
<meta property="article:author" content="ix35">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://itz-ix35.github.io/2023/09/29/%E4%B8%93%E9%A2%98%E9%A2%98%E8%A7%A3/IOI2021%E9%9B%86%E8%AE%AD%E9%98%9F%E4%BD%9C%E4%B8%9A%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://itz-ix35.github.io/2023/09/29/%E4%B8%93%E9%A2%98%E9%A2%98%E8%A7%A3/IOI2021%E9%9B%86%E8%AE%AD%E9%98%9F%E4%BD%9C%E4%B8%9A%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/","path":"2023/09/29/专题题解/IOI2021集训队作业部分题解/","title":"专题题解 - IOI 2021 集训队作业部分题解"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>专题题解 - IOI 2021 集训队作业部分题解 | ix35's Blog</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ix35's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-essays"><a href="/essay/" rel="section"><i class="fa fa-tags fa-fw"></i>随笔选辑</a></li><li class="menu-item menu-item-game-guide"><a href="/game-guide/" rel="section"><i class="fa fa-tags fa-fw"></i>游戏攻略</a></li><li class="menu-item menu-item-game-review"><a href="/game-review/" rel="section"><i class="fa fa-tags fa-fw"></i>游戏评测</a></li><li class="menu-item menu-item-music"><a href="/music/" rel="section"><i class="fa fa-tags fa-fw"></i>音乐分享</a></li><li class="menu-item menu-item-notes"><a href="/note/" rel="section"><i class="fa fa-tags fa-fw"></i>课程笔记</a></li><li class="menu-item menu-item-solutions"><a href="/solution/" rel="section"><i class="fa fa-tags fa-fw"></i>专题题解</a></li><li class="menu-item menu-item-technology"><a href="/technology/" rel="section"><i class="fa fa-tags fa-fw"></i>科普文章</a></li><li class="menu-item menu-item-travelogue"><a href="/travel/" rel="section"><i class="fa fa-tags fa-fw"></i>远古游记</a></li><li class="menu-item menu-item-gallery"><a href="/gallery/" rel="section"><i class="fa fa-image fa-fw"></i>画廊</a></li><li class="menu-item menu-item-data"><a href="/data/" rel="section"><i class="fa fa-database fa-fw"></i>数据</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#173-%EF%BC%9A-text-Equal-Numbers-%EF%BC%88-text-2020-10-12-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$173$：$\text{Equal Numbers}$（$\text{2020.10.12}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#177-%EF%BC%9A-text-Outer-space-invaders-%EF%BC%88-text-2020-10-12-%EF%BC%8C%E7%9E%84%E4%BA%86%E7%9C%BC%E9%A2%98%E8%A7%A3%EF%BC%89"><span class="nav-text">#$177$：$\text{Outer space invaders}$（$\text{2020.10.12}$，瞄了眼题解）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-1"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-1"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#209-%EF%BC%9A-text-Intrinsic-Interval-%EF%BC%88-text-2020-10-12-%EF%BC%8C%E6%A8%A1%E6%8B%9F%E8%B5%9B%E5%8E%9F%E9%A2%98%EF%BC%89"><span class="nav-text">#$209$：$\text{Intrinsic Interval}$（$\text{2020.10.12}$，模拟赛原题）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-2"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-2"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#297-%EF%BC%9A-text-Surveillance-%EF%BC%88-text-2020-10-13-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$297$：$\text{Surveillance}$（$\text{2020.10.13}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-3"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-3"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#238-%EF%BC%9A-text-Kebab-House-%EF%BC%88-text-2020-10-13-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$238$：$\text{Kebab House}$（$\text{2020.10.13}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-4"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-4"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#123-%EF%BC%9A-text-Gem-Island-%EF%BC%88-text-2020-10-13-%EF%BC%8C%E7%9C%8B%E4%BA%86%E9%A2%98%E8%A7%A3%EF%BC%89"><span class="nav-text">#$123$：$\text{Gem Island}$（$\text{2020.10.13}$，看了题解）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-5"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-5"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#121-%EF%BC%9A-text-Bipartite-Blanket-%EF%BC%88-text-2020-10-14-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$121$：$\text{Bipartite Blanket}$（$\text{2020.10.14}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-6"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-6"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#293-%EF%BC%9A-text-Weather-Report-%EF%BC%88-text-2020-10-14-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$293$：$\text{Weather Report}$（$\text{2020.10.14}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-7"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-7"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#146-%EF%BC%9A-text-Tile-Cutting-%EF%BC%88-text-2020-10-15-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$146$：$\text{Tile Cutting}$（$\text{2020.10.15}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-8"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-8"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#146-%EF%BC%9A-text-King%E2%80%99s-Inspection-%EF%BC%88-text-2020-10-15-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$146$：$\text{King’s Inspection}$（$\text{2020.10.15}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-9"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-9"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#294-%EF%BC%9A-text-Gangsters-in-Central-City-%EF%BC%88-text-2020-10-15-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$294$：$\text{Gangsters in Central City}$（$\text{2020.10.15}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-10"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-10"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#255-%EF%BC%9A-text-Money-for-Nothing-%EF%BC%88-text-2020-10-15-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$255$：$\text{Money for Nothing}$（$\text{2020.10.15}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-11"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-11"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#122-%EF%BC%9A-text-Intellectual-Property-%EF%BC%88-text-2020-10-16-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$122$：$\text{Intellectual Property}$（$\text{2020.10.16}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-12"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-12"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#170-%EF%BC%9A-text-String-Theory-%EF%BC%88-text-2020-10-16-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$170$：$\text{String Theory}$（$\text{2020.10.16}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-13"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-13"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#134-%EF%BC%9A-text-J-%EF%BC%88-text-2020-10-16-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$134$：$\text{J}$（$\text{2020.10.16}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-14"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-14"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#175-%EF%BC%9A-text-Ice-Igloos-%EF%BC%88-text-2020-10-16-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$175$：$\text{Ice Igloos}$（$\text{2020.10.16}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-15"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-15"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#153-%EF%BC%9A-text-Fygon-2-0-%EF%BC%88-text-2020-10-17-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$153$：$\text{Fygon 2.0}$（$\text{2020.10.17}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-16"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-16"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#278-%EF%BC%9A-text-Journey-from-Petersburg-to-Moscow-%EF%BC%88-text-2020-10-17-%EF%BC%8C%E7%9C%8B%E4%BA%86%E9%A2%98%E8%A7%A3%EF%BC%89"><span class="nav-text">#$278$：$\text{Journey from Petersburg to Moscow}$（$\text{2020.10.17}$，看了题解）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-17"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-17"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#147-%EF%BC%9A-text-Traffic-Blights-%EF%BC%88-text-2020-10-17-%EF%BC%8C%E6%A8%A1%E6%8B%9F%E8%B5%9B%E5%8E%9F%E9%A2%98%EF%BC%89"><span class="nav-text">#$147$：$\text{Traffic Blights}$（$\text{2020.10.17}$，模拟赛原题）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-18"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-18"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#202-%EF%BC%9A-text-Clock-Breaking-%EF%BC%88-text-2020-10-17-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$202$：$\text{Clock Breaking}$（$\text{2020.10.17}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-19"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-19"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#259-%EF%BC%9A-text-Jazz-Journey-%EF%BC%88-text-2020-10-17-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$259$：$\text{Jazz Journey}$（$\text{2020.10.17}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-20"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-20"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#298-%EF%BC%9A-text-The-Great-Wall-%EF%BC%88-text-2020-10-19-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$298$：$\text{The Great Wall}$（$\text{2020.10.19}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-21"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-21"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#285-%EF%BC%9A-text-Integral-Polygons-%EF%BC%88-text-2020-10-19-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$285$：$\text{Integral Polygons}$（$\text{2020.10.19}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-22"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-22"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#235-%EF%BC%9A-text-Single-Cut-of-Failure-%EF%BC%88-text-2020-10-19-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$235$：$\text{Single Cut of Failure}$（$\text{2020.10.19}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-23"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-23"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#181-%EF%BC%9A-text-Graph-%EF%BC%88-text-2020-10-20-%EF%BC%8C%E7%9C%8B%E4%BA%86%E9%A2%98%E8%A7%A3%EF%BC%89"><span class="nav-text">#$181$：$\text{Graph}$（$\text{2020.10.20}$，看了题解）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-24"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-24"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#183-%EF%BC%9A-text-Hack-Protection-%EF%BC%88-text-2020-10-20-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$183$：$\text{Hack Protection}$（$\text{2020.10.20}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-25"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-25"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#291-%EF%BC%9A-text-Binary-Code-%EF%BC%88-text-2020-10-20-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$291$：$\text{Binary Code}$（$\text{2020.10.20}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-26"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-26"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#103-%EF%BC%9A-text-Boys-and-Girls-%EF%BC%88-text-2020-10-21-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$103$：$\text{Boys and Girls}$（$\text{2020.10.21}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-27"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-27"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#239-%EF%BC%9A-text-Triangles-%EF%BC%88-text-2020-10-21-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$239$：$\text{Triangles}$（$\text{2020.10.21}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-28"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-28"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#281-%EF%BC%9A-text-Balanced-Diet-%EF%BC%88-text-2020-10-21-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$281$：$\text{Balanced Diet}$（$\text{2020.10.21}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-29"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-29"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#227-%EF%BC%9A-text-Branch-Assignment-%EF%BC%88-text-2020-10-22-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$227$：$\text{Branch Assignment}$（$\text{2020.10.22}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-30"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-30"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#135-%EF%BC%9A-text-Chain-amp-Co-%EF%BC%88-text-2020-10-22-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$135$：$\text{Chain &amp; Co.}$（$\text{2020.10.22}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-31"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-31"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#241-%EF%BC%9A-text-Lonely-Mountain-%EF%BC%88-text-2020-10-22-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$241$：$\text{Lonely Mountain}$（$\text{2020.10.22}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-32"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-32"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#253-%EF%BC%9A-text-Fragmentation-%EF%BC%88-text-2020-10-23-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$253$：$\text{Fragmentation}$（$\text{2020.10.23}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-33"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-33"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#246-%EF%BC%9A-text-Digital-Addition-%EF%BC%88-text-2020-10-23-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$246$：$\text{Digital Addition}$（$\text{2020.10.23}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-34"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-34"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#262-%EF%BC%9A-text-Laminar-Family-%EF%BC%88-text-2020-10-23-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$262$：$\text{Laminar Family}$（$\text{2020.10.23}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-35"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-35"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#178-%EF%BC%9A-text-ASCII-Puzzle-%EF%BC%88-text-2020-10-23-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$178$：$\text{ASCII Puzzle}$（$\text{2020.10.23}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-36"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-36"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#141-%EF%BC%9A-text-Tarot-Sham-Boast-%EF%BC%88-text-2020-10-24-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$141$：$\text{Tarot Sham Boast}$（$\text{2020.10.24}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-37"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-37"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#286-%EF%BC%9A-text-Kitchen-Knobs-%EF%BC%88-text-2020-10-24-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$286$：$\text{Kitchen Knobs}$（$\text{2020.10.24}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-38"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-38"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#154-%EF%BC%9A-text-Evolution-in-Parallel-%EF%BC%88-text-2020-10-25-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$154$：$\text{Evolution in Parallel}$（$\text{2020.10.25}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-39"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-39"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#190-%EF%BC%9A-text-Landscape-Improved-%EF%BC%88-text-2020-10-25-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$190$：$\text{Landscape Improved}$（$\text{2020.10.25}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-40"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-40"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#270-%EF%BC%9A-text-Pork-barrel-%EF%BC%88-text-2020-10-25-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$270$：$\text{Pork barrel}$（$\text{2020.10.25}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-41"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-41"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#277-%EF%BC%9A-text-Tours-%EF%BC%88-text-2020-10-25-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$277$：$\text{Tours}$（$\text{2020.10.25}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-42"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-42"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#247-%EF%BC%9A-text-The-Imp-%EF%BC%88-text-2020-10-26-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$247$：$\text{The Imp}$（$\text{2020.10.26}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-43"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-43"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#233-%EF%BC%9A-text-Rubik%E2%80%99s-Rectangle-%EF%BC%88-text-2020-10-26-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$233$：$\text{Rubik’s Rectangle}$（$\text{2020.10.26}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-44"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-44"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#287-%EF%BC%9A-text-Subway-%EF%BC%88-text-2020-10-26-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$287$：$\text{Subway}$（$\text{2020.10.26}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-45"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-45"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#138-%EF%BC%9A-text-Distribution-in-Metagonia-%EF%BC%88-text-2020-10-26-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$138$：$\text{Distribution in Metagonia}$（$\text{2020.10.26}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-46"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-46"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#194-%EF%BC%9A-text-Export-Estimate-%EF%BC%88-text-2020-10-27-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$194$：$\text{Export Estimate}$（$\text{2020.10.27}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-47"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-47"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#230-%EF%BC%9A-text-Metal-Processing-Plant-%EF%BC%88-text-2020-10-27-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$230$：$\text{Metal Processing Plant}$（$\text{2020.10.27}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-48"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-48"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#191-%EF%BC%9A-text-Frightful-Formula-%EF%BC%88-text-2020-10-28-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$191$：$\text{Frightful Formula}$（$\text{2020.10.28}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-49"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-49"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#261-%EF%BC%9A-text-First-of-Her-Name-%EF%BC%88-text-2020-10-28-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$261$：$\text{First of Her Name}$（$\text{2020.10.28}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-50"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-50"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#110-%EF%BC%9A-text-Heavy-Chain-Clusterization-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$110$：$\text{Heavy Chain Clusterization}$（$\text{2020.11.01}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-51"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-51"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#243-%EF%BC%9A-text-Kingdom-Trip-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$243$：$\text{Kingdom Trip}$（$\text{2020.11.01}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-52"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-52"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#111-%EF%BC%9A-text-Hidden-Supervisors-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$111$：$\text{Hidden Supervisors}$（$\text{2020.11.01}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-53"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-53"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#125-%EF%BC%9A-text-Baggage-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$125$：$\text{Baggage}$（$\text{2020.11.01}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-54"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-54"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#201-%EF%BC%9A-text-Cumulative-Code-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E4%BB%A5%E5%89%8D%E8%A7%81%E8%BF%87%EF%BC%89"><span class="nav-text">#$201$：$\text{Cumulative Code}$（$\text{2020.11.01}$，以前见过）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-55"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-55"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#217-%EF%BC%9A-text-Easy-Reading-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$217$：$\text{Easy Reading}$（$\text{2020.11.01}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-56"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-56"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#218-%EF%BC%9A-text-Lunar-Landscape-%EF%BC%88-text-2020-11-01-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$218$：$\text{Lunar Landscape}$（$\text{2020.11.01}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-57"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-57"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#101-%EF%BC%9A-text-Correcting-Curiosity-%EF%BC%88-text-2020-11-06-%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%81%9A%E5%87%BA%EF%BC%89"><span class="nav-text">#$101$：$\text{Correcting Curiosity}$（$\text{2020.11.06}$，自己做出）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-58"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-58"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#167-%EF%BC%9A-text-Interactive-Sort-%EF%BC%88-text-2020-11-10-%EF%BC%89"><span class="nav-text">#$167$：$\text{Interactive Sort}$（$\text{2020.11.10}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-59"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-59"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#109-%EF%BC%9A-text-Knapsack-Cryptosystem-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$109$：$\text{Knapsack Cryptosystem}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-60"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-60"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#226-%EF%BC%9A-text-Maze-Reduction-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$226$：$\text{Maze Reduction}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-61"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-61"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#106-%EF%BC%9A-text-Binary-vs-Decimal-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$106$：$\text{Binary vs Decimal}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-62"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-62"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#159-%EF%BC%9A-text-Mole-Tunnels-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$159$：$\text{Mole Tunnels}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-63"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-63"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#251-%EF%BC%9A-text-Can%E2%80%99t-stop-playing-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$251$：$\text{Can’t stop playing}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-64"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-64"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#169-%EF%BC%9A-text-Virus-synthesis-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$169$：$\text{Virus synthesis}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-65"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-65"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#127-%EF%BC%9A-text-Lost-Logic-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$127$：$\text{Lost Logic}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-66"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-66"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#143-%EF%BC%9A-text-Jump-%EF%BC%88-text-2020-11-11-%EF%BC%89"><span class="nav-text">#$143$：$\text{Jump}$（$\text{2020.11.11}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-67"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-67"><span class="nav-text">题解：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#210-%EF%BC%9A-text-Sensor-Network-%EF%BC%88-text-2020-11-12-%EF%BC%89"><span class="nav-text">#$210$：$\text{Sensor Network}$（$\text{2020.11.12}$）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F%EF%BC%9A-68"><span class="nav-text">题目大意：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-68"><span class="nav-text">题解：</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ix35"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">ix35</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Itz-ix35" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Itz-ix35" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2757336405@qq.com" title="E-Mail → mailto:2757336405@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.luogu.com.cn/user/113546" title="Luogu → https:&#x2F;&#x2F;www.luogu.com.cn&#x2F;user&#x2F;113546" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>Luogu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/187505795" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;187505795" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>Bilibili</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://itz-ix35.github.io/2023/09/29/%E4%B8%93%E9%A2%98%E9%A2%98%E8%A7%A3/IOI2021%E9%9B%86%E8%AE%AD%E9%98%9F%E4%BD%9C%E4%B8%9A%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="ix35">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ix35's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="专题题解 - IOI 2021 集训队作业部分题解 | ix35's Blog">
      <meta itemprop="description" content="这里包含了我当时 12 月初之前做的所有题目，由于还有很多题目是在那之后做的，所以并不全">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          专题题解 - IOI 2021 集训队作业部分题解
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-09-29 20:47:44" itemprop="dateCreated datePublished" datetime="2023-09-29T20:47:44+08:00">2023-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%93%E9%A2%98%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">专题题解</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">这里包含了我当时 12 月初之前做的所有题目，由于还有很多题目是在那之后做的，所以并不全</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="173-：-text-Equal-Numbers-（-text-2020-10-12-，自己做出）"><a href="#173-：-text-Equal-Numbers-（-text-2020-10-12-，自己做出）" class="headerlink" title="#$173$：$\text{Equal Numbers}$（$\text{2020.10.12}$，自己做出）"></a>#$173$：$\text{Equal Numbers}$（$\text{2020.10.12}$，自己做出）</h3><h4 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定正整数可重集 $a_{1\ldots n}$，一次操作定义为：选择 $i\in [1,n]$，令 $a_i$ 乘上一个任意的正整数，对于所有 $k\in [0,n]$，求出 $k$ 次操作后可重集中至少有多少种不同的数。</p>
<p>$n\leq 3\times 10^5,  a_i\leq 10^6$。</p>
<hr>
<h4 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h4><p>如果一次操作后 $a_i$ 没有变成原始集合中的某个数，那么显然我们可以令它变为原始集合中所有数的公倍数 $S$，这样以后其他数也可以变成这个公倍数，这一定不劣于变成其他数。</p>
<p>于是我们有两种选择：</p>
<ol>
<li><p>将某些数变成 $S$，那么我们自然是选择出现次数最少的若干个数，将它们统一变成 $S$；</p>
</li>
<li><p>不将任何数变成 $S$，那么我们只能对那些存在一个真倍数在原始集合中的数进行操作，选择它们中出现次数最少的若干个数变成它们的某个倍数。</p>
</li>
</ol>
<p>所以我们通过两个数组记录所有出现过的数的出现次数和作为其他数真因子出现的数的出现次数（直接利用倍数枚举可以找出这些数），当 $k$ 从 $0$ 变到 $n$ 时对每个数组维护一个指针表示当前的 $k$ 足以将多少个数全部操作一遍。</p>
<p>时间复杂度为 $O(A\log A+n)$，其中 $A$ 为值域大小。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="177-：-text-Outer-space-invaders-（-text-2020-10-12-，瞄了眼题解）"><a href="#177-：-text-Outer-space-invaders-（-text-2020-10-12-，瞄了眼题解）" class="headerlink" title="#$177$：$\text{Outer space invaders}$（$\text{2020.10.12}$，瞄了眼题解）"></a>#$177$：$\text{Outer space invaders}$（$\text{2020.10.12}$，瞄了眼题解）</h3><h4 id="题目大意：-1"><a href="#题目大意：-1" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $n$ 个外星人，第 $i$ 个外星人有权值 $d_i$，需要在 $[a_i,b_i]$ 中某个时间被消灭，一次功率为 $P$ 的攻击只能消灭权值不超过 $P$ 的外星人，问消灭所有外星人的最小功率总和。</p>
<p>共询问 $T$ 组数据。</p>
<p>$T,n\leq 300,  a_i,b_i,d_i\leq 10^4,  \sum n^3\leq 2.5\times 10^8$。</p>
<hr>
<h4 id="题解：-1"><a href="#题解：-1" class="headerlink" title="题解："></a>题解：</h4><p>查这题的时候顺便看到了正解用到了区间 DP，之后就不难想了。</p>
<p>设 $dp(i,j)$ 表示消灭所有包含于 $[i,j]$ 的外星人的最小功率，我们找到这些外星人中权值最大的，枚举消灭它的时间 $t$，那么与此同时所有包含 $t$ 的外星人也会被同时消灭，只要分别递归计算 $dp(i,t-1)$ 和 $dp(t+1,j)$ 即可。</p>
<p>注意区间要先离散化。</p>
<p>时间复杂度为 $O(\sum n^3)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="209-：-text-Intrinsic-Interval-（-text-2020-10-12-，模拟赛原题）"><a href="#209-：-text-Intrinsic-Interval-（-text-2020-10-12-，模拟赛原题）" class="headerlink" title="#$209$：$\text{Intrinsic Interval}$（$\text{2020.10.12}$，模拟赛原题）"></a>#$209$：$\text{Intrinsic Interval}$（$\text{2020.10.12}$，模拟赛原题）</h3><h4 id="题目大意：-2"><a href="#题目大意：-2" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $1,\ldots,n$ 的排列 $\pi_{1\ldots n}$，定义区间 $[l,r]$  为连续段当且仅当排列中 $[l,r]$ 当中所有数排序后是公差为 $1$ 的等差数列，现有 $m$ 组询问，每次询问包含 $[l,r]$ 的最短连续段，可以证明这是唯一的。</p>
<p>$n,m\leq 10^5$。</p>
<hr>
<h4 id="题解：-2"><a href="#题解：-2" class="headerlink" title="题解："></a>题解：</h4><p>是原题，直接搬运我以前写的题解了。</p>
<p>结论 1：设 $ans(l,r)$ 表示询问区间 $[l,r]$ 的答案，则 $ans(l,r)=\bigcup\limits_{i=l}^{r-1}ans(i,i+1)$。</p>
<p>注意要特判 $l=r$。</p>
<p>这个结论不证了，因为可以脑补，而且证起来又有点麻烦。</p>
<p>所以我们求出 $ans(i,i+1)$ 即可。</p>
<p>结论 2：设 $L_i,R_i$ 分别表示以 $i$ 为右/左端点的连续区间的最远左/右端点，则 $ans(i,i+1)=[\max(j|j\leq i,L_j\ge i+1),\min(j|j\ge i+1,R_j\leq i)]$。</p>
<p>道理和结论 1 差不多，也不证了。</p>
<p>于是问题又转化为求 $L_i,R_i$，求完以后上面那个东西二分一下 $j$，用 ST 表判定即可。</p>
<p>这个东西就要上线段树了，从左到右扫一遍 $r$，对于每一个 $r$，计算最左边的 $l$，即为 $L_r$，再反着做一遍，可以类似得到 $R_l$，这里只讲前面一个了。</p>
<p>考虑 $[l,r]$ 是连续区间，等价于 $(\max(p_i|i\in [l,r])-\min(p_i|i\in [l,r]))-(r-l)=0$，当 $r$ 固定时它是关于 $l$ 的函数，设为 $f(l)$，用线段树维护 $f(l)$，考虑从 $r$ 变成 $r+1$ 时 $f(l)$ 的变化。</p>
<p>考虑每一项的变化即可，$r$ 对于每个 $f(l)$ 来说都增加了 $1$，所以先将整个左边区间加 $1$。</p>
<p>$\max$ 和 $\min$ 类似，这里以 $\max$ 为例。</p>
<p>用一个单调栈维护递减当前 $p_i$，则如果 $p_{r+1}&gt;p_{top}$，那么要弹栈，并且 $p_{top}$ 到 $p_{top}$ 前一个元素 $+1$ 这一段的最大值变成了 $p_{r+1}$，原本这一段的最大值是 $p_{top}$，所以相当于整体加上一个 $p_{r+1}-p_{top}$。</p>
<p>有很多对称的东西，类似处理即可。</p>
<p>时间复杂度 $O(n\log n+m)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="297-：-text-Surveillance-（-text-2020-10-13-，自己做出）"><a href="#297-：-text-Surveillance-（-text-2020-10-13-，自己做出）" class="headerlink" title="#$297$：$\text{Surveillance}$（$\text{2020.10.13}$，自己做出）"></a>#$297$：$\text{Surveillance}$（$\text{2020.10.13}$，自己做出）</h3><h4 id="题目大意：-3"><a href="#题目大意：-3" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定若干环上区间，选择最少的区间覆盖整个环，或报告无解。</p>
<p>环长为 $n$，区间数为 $k$。</p>
<p>$n,k\leq 10^6$。</p>
<hr>
<h4 id="题解：-3"><a href="#题解：-3" class="headerlink" title="题解："></a>题解：</h4><p>国旗计划弱化版。</p>
<p>首先复制为两倍破环为链，然后直接倍增，令 $f(i,j)$ 表示从 $i$ 开始覆盖 $2^j$ 个区间最右能到多少，其中 $f(i,0)$ 可以从左到右扫一遍，求左端点在 $[1,i]$ 的区间右端点的最大值。</p>
<p>然后从每个左端点倍增跳一下就可以了。</p>
<p>时间复杂度为 $O((n+k)\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="238-：-text-Kebab-House-（-text-2020-10-13-，自己做出）"><a href="#238-：-text-Kebab-House-（-text-2020-10-13-，自己做出）" class="headerlink" title="#$238$：$\text{Kebab House}$（$\text{2020.10.13}$，自己做出）"></a>#$238$：$\text{Kebab House}$（$\text{2020.10.13}$，自己做出）</h3><h4 id="题目大意：-4"><a href="#题目大意：-4" class="headerlink" title="题目大意："></a>题目大意：</h4><p>你要依次制作 $n$ 个烤肉串，第 $i$ 个会花费 $q_i$ 的时间，每个单位时间你可以走神或不走神，但两次相邻走神必须间隔大于 $t$ 单位时间，烤第 $i$ 个串的时候至少有 $x_i$ 个单位时间没有走神，问走神的方案数，对 $10^9+7$ 取模。</p>
<p>$n\leq 1000,  k\leq 100,  q_i\leq 250$。</p>
<hr>
<h4 id="题解：-4"><a href="#题解：-4" class="headerlink" title="题解："></a>题解：</h4><p>令 $dp(i,j)$ 表示烤完前 $i$ 个串，最后一次走神是第 $i$ 串烤完前的倒数第 $j$ 单位时间的方案数，特别地，$dp(i,t)$ 表示最后 $t$ 单位时间内都没有走神的方案数。</p>
<p>那么枚举一个 $k$，从 $dp(i-1,k)$ 转移到 $dp(i,j)$，转移系数应当是对于第 $i$ 个串中间的某个区间，走神次数不超过 $q_i-x_i-1$（或一些类似的东西）的方案数。</p>
<p>所以我们再来一次 DP，设 $f(i,j,k)$ 表示长为 $i$ 的区间，走神 $j$ 次，最后一次走神是倒数第 $k$ 单位时间（对于 $k=t$ 同样特殊定义），如果 $0&lt;k&lt;t$ 那么就是 $f(i-1,j,k-1)$，否则枚举一下上次走神是什么时候。</p>
<p>时间复杂度为 $O(nt^2+Q^2t)$，其中 $Q$ 是 $q_i$ 的值域。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="123-：-text-Gem-Island-（-text-2020-10-13-，看了题解）"><a href="#123-：-text-Gem-Island-（-text-2020-10-13-，看了题解）" class="headerlink" title="#$123$：$\text{Gem Island}$（$\text{2020.10.13}$，看了题解）"></a>#$123$：$\text{Gem Island}$（$\text{2020.10.13}$，看了题解）</h3><h4 id="题目大意：-5"><a href="#题目大意：-5" class="headerlink" title="题目大意："></a>题目大意：</h4><p>岛上有 $n$ 个居民，每个居民初始有一个宝石，每一天都会等概率选择一个宝石分裂成两个，问 $d$ 天后宝石数量前 $r$ 多的人的宝石数量和期望是多少。</p>
<p>$n,d,r\leq 500$。</p>
<hr>
<h4 id="题解：-5"><a href="#题解：-5" class="headerlink" title="题解："></a>题解：</h4><p>题目中这个分配方式，相当于将 $d$ 个宝石分给 $n$ 个人，最后每人多给一个。</p>
<p>我们设 $f(i,j),g(i,j)$ 分别表示 $j$ 个宝石分给 $i$ 个人时，人带标号的方案数和前 $r$ 大值之和，那么答案就是 $\dfrac{g(n,d)}{f(n,d)}+r$（最后加上每个人多给的一个宝石）。</p>
<p>枚举有多少人得到了至少一个宝石，可以得到转移方程：</p>
<script type="math/tex; mode=display">f(i,j)=\sum\limits_{k=0}^{\min(i,j)} \binom i kf(k,j-k)</script><p>表示有 $k$ 个人得到宝石，每人先分一个，剩余 $j-k$ 个再递归计算。</p>
<p>同理有 $g(i,j)$ 的转移：</p>
<script type="math/tex; mode=display">g(i,j)=\sum\limits_{k=0}^{\min(i,j)} \binom i k(g(k,j-k)+\min(k,r)f(k,j-k))</script><p>后面一项指的是每个人先分得的一个宝石的贡献。</p>
<p>利用 $\text{long double}$ 计算，我也不知道为什么精度怎么算，反正过了。</p>
<p>时间复杂度为 $O(n^3)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="121-：-text-Bipartite-Blanket-（-text-2020-10-14-，自己做出）"><a href="#121-：-text-Bipartite-Blanket-（-text-2020-10-14-，自己做出）" class="headerlink" title="#$121$：$\text{Bipartite Blanket}$（$\text{2020.10.14}$，自己做出）"></a>#$121$：$\text{Bipartite Blanket}$（$\text{2020.10.14}$，自己做出）</h3><h4 id="题目大意：-6"><a href="#题目大意：-6" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定左边 $n$ 个点右边 $m$ 个点的点带权二分图，求满足下列条件的点集数量：</p>
<ul>
<li><p>点权和不小于 $t$；</p>
</li>
<li><p>是某个匹配的子集。</p>
</li>
</ul>
<p>$n,m\leq 20,  t\leq 4\times 10^8$。</p>
<hr>
<h4 id="题解：-6"><a href="#题解：-6" class="headerlink" title="题解："></a>题解：</h4><p>主要结论：设左右部点分别为 $L,R$，那么 $S=A\cup B  (A\subseteq L, B\subseteq R)$ 是某个匹配的子集当且仅当 $A$ 是某个匹配的子集且 $B$ 是某个匹配的子集。</p>
<p>具体证明可以把 $A,B$ 所属的匹配画出来，在里面找增广路来证明，不过这个属于比较直觉的东西，就不具体说了。</p>
<p>我们只需要求出左右两部所有是某个匹配子集的点集求出来，再双指针一下就可以得到答案。</p>
<p>询问一个点集 $S$ 是不是某个匹配的子集，相当于在它这一部只保留 $S$ 时最大匹配为 $|S|$，可以简单地利用 Hall 定理判定。</p>
<p>首先求出 $f(S)$ 表示 $|\bigcup\limits_{i\in S}N(i)|\ge|S|$ 是否成立，然后对它做一次 FWT 就可以得到每个点集是不是一个匹配的子集。</p>
<p>时间复杂度为 $O(n2^n+m2^m)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="293-：-text-Weather-Report-（-text-2020-10-14-，自己做出）"><a href="#293-：-text-Weather-Report-（-text-2020-10-14-，自己做出）" class="headerlink" title="#$293$：$\text{Weather Report}$（$\text{2020.10.14}$，自己做出）"></a>#$293$：$\text{Weather Report}$（$\text{2020.10.14}$，自己做出）</h3><h4 id="题目大意：-7"><a href="#题目大意：-7" class="headerlink" title="题目大意："></a>题目大意：</h4><p>对接下来 $n$ 天进行天气预报，每天的天气有四种可能，每种天气出现概率给定且不随天数变化。</p>
<p>现在要将 $4^n$ 种可能的天气序列分别映射到一个 $01$ 串，使得不存在两个映射得到的 $01$ 串为前缀关系，求 $01$ 串的最小期望长度。</p>
<p>$n\leq 20$。</p>
<hr>
<h4 id="题解：-7"><a href="#题解：-7" class="headerlink" title="题解："></a>题解：</h4><p>对于所有可能的天气序列对应的概率求一次 Huffman 树即可。</p>
<p>天气序列的数量有 $4^n$ 种，无法一一处理，但是注意到一种天气序列出现的概率只和每种天气出现次数有关，所以不同的概率只有 $\binom {n+3}{3}$ 种。</p>
<p>于是问题转化成了有 $m$ 种元素，第 $i$ 种有 $a_i$ 个的 Huffman 树，只需要在优先队列的每个元素维护一个重复数 $a_i$，对于取出的堆顶，如果重复数 $a_i$ 超过了 $1$，那么先两两配对为 $\lfloor\dfrac{a_i}{2}\rfloor$ 对，若多出一个则将其与堆中的下一个元素匹配。</p>
<p>时间复杂度不知道，但过了。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="146-：-text-Tile-Cutting-（-text-2020-10-15-，自己做出）"><a href="#146-：-text-Tile-Cutting-（-text-2020-10-15-，自己做出）" class="headerlink" title="#$146$：$\text{Tile Cutting}$（$\text{2020.10.15}$，自己做出）"></a>#$146$：$\text{Tile Cutting}$（$\text{2020.10.15}$，自己做出）</h3><h4 id="题目大意：-8"><a href="#题目大意：-8" class="headerlink" title="题目大意："></a>题目大意：</h4><p>在一个长宽为任意正整数的矩形上的四条边各选一个整点，顺次连接然后切割下来形成一个平行四边形，设面积为 $S$ 的平行四边形有 $c_S$ 种切割方法（旋转翻折不等价），有 $q$ 次询问，每次询问 $c_l,\ldots,c_r$ 的最大值和对应的 $S$。</p>
<p>$q\leq 500,  l,r\leq 5\times 10^5$。</p>
<hr>
<h4 id="题解：-8"><a href="#题解：-8" class="headerlink" title="题解："></a>题解：</h4><p>显然对边选择的顶点连线过矩形中心。</p>
<p>设矩形尺寸为 $a\times b$，割出来的其中一个小三角形尺寸为 $c\times d$，通过简单计算可以知道 $S=ad+bc-2cd$，几何的理解就是 $S=d(a-c)+c(b-d)$，即两个小矩形的面积和。</p>
<p>所以 $c_S$ 就是将 $S$ 分成两个数之和，每个数再分成两个数之积的方案数，那么 $c_S=\sum\limits_{i=1}^{S-1}\sigma_0(i)\sigma_0(S-i)$，一次多项式乘法即可求出，打个表可以发现 $c_{5\times 10^5}$ 远远不到 $10^9$，因此单模数的 NTT 就已经足够。</p>
<p>最后再套个 ST 表求最大值。</p>
<p>时间复杂度为 $O(L\log L+Q)$，其中 $L$ 为 $l,r$ 值域。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="146-：-text-King’s-Inspection-（-text-2020-10-15-，自己做出）"><a href="#146-：-text-King’s-Inspection-（-text-2020-10-15-，自己做出）" class="headerlink" title="#$146$：$\text{King’s Inspection}$（$\text{2020.10.15}$，自己做出）"></a>#$146$：$\text{King’s Inspection}$（$\text{2020.10.15}$，自己做出）</h3><h4 id="题目大意：-9"><a href="#题目大意：-9" class="headerlink" title="题目大意："></a>题目大意：</h4><p>在 $n$ 个点 $n+k$ 条边的有向图中求解一条哈密尔顿回路，或报告无解。</p>
<p>$n\leq 10^5,  k\leq 20$。</p>
<hr>
<h4 id="题解：-9"><a href="#题解：-9" class="headerlink" title="题解："></a>题解：</h4><p>设点 $i$ 的入度为 $in_i$，那么 $\sum\limits_{i=1}^n in_i=n+k$，如果存在 $in_i=0$ 那么显然无解，否则 $in_i\ge 1$，那么至多有 $k$ 个点满足 $in_i&gt;1$。</p>
<p>对于 $in_i=1$ 的点，前驱确定，可以直接缩掉，只保留 $in_i&gt;1$ 的点，每个点的出边缩成从它出发不断走到 $in_i=1$ 的点，这条链末尾的那个点的出边。</p>
<p>在新图上状压 DP，每个点记录前驱以输出方案。</p>
<p>时间复杂度为 $O(n+2^k)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="294-：-text-Gangsters-in-Central-City-（-text-2020-10-15-，自己做出）"><a href="#294-：-text-Gangsters-in-Central-City-（-text-2020-10-15-，自己做出）" class="headerlink" title="#$294$：$\text{Gangsters in Central City}$（$\text{2020.10.15}$，自己做出）"></a>#$294$：$\text{Gangsters in Central City}$（$\text{2020.10.15}$，自己做出）</h3><h4 id="题目大意：-10"><a href="#题目大意：-10" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点的根结点为 $1$ 的有根树，接下来发生 $q$ 个操作，每个操作形如有一个叶结点被敌人占领或有一个叶结点不再被敌人占领。</p>
<p>你需要选择一些树边切断，使得根结点到所有被敌人占领的点不连通，最小化割去的边数，同时在最小化割去边数的情况下最小化未被敌人占领但与根结点不连通的叶结点数量。</p>
<p>每次操作后你需要输出最小割去边数和最小的未被敌人占领但与根结点不连通的叶结点数量。</p>
<p>$n,q\leq 10^5$。</p>
<hr>
<h4 id="题解：-10"><a href="#题解：-10" class="headerlink" title="题解："></a>题解：</h4><p>前一问的答案是显然的，根结点的每个子树中最多割一条边，只要看这个子树里有没有被敌人占领的点即可。</p>
<p>而为了使后一问的答案尽可能小，对于根结点每个存在被敌人占领的点的子树，被切断的一定是所有被占领点的 $\text{LCA}$ 到父亲的边。</p>
<p>一些点的 $\text{LCA}$ 等于其中 DFS 序最大和最小点的 $\text{LCA}$，我们用一个 set 维护每个子树中所有点的 DFS 序，即可实现插入，删除，查询 $\text{LCA}$。</p>
<p>时间复杂度为 $O((n+q)\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="255-：-text-Money-for-Nothing-（-text-2020-10-15-，自己做出）"><a href="#255-：-text-Money-for-Nothing-（-text-2020-10-15-，自己做出）" class="headerlink" title="#$255$：$\text{Money for Nothing}$（$\text{2020.10.15}$，自己做出）"></a>#$255$：$\text{Money for Nothing}$（$\text{2020.10.15}$，自己做出）</h3><h4 id="题目大意：-11"><a href="#题目大意：-11" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个红点 $(a_i,b_i)$ 和 $m$ 个蓝点 $(c_i,d_i)$，求 $(a_i-c_j)\times (b_i-d_j)  (a_i\ge c_j, b_i\ge d_j)$ 的最大值。 </p>
<p>$n,m\leq 5\times 10^5$。</p>
<hr>
<h4 id="题解：-11"><a href="#题解：-11" class="headerlink" title="题解："></a>题解：</h4><p>第一个单调性：如果一个红点在另一个红点左下方，那么可以扔掉。</p>
<p>同样的单调性：如果一个蓝点在另一个蓝点右上方，那么可以扔掉。</p>
<p>所以红点集合和蓝点集合分别可以化简成一个 $y$ 坐标随 $x$ 坐标增加而单调减的点集，设红点对应的此集合从左到右为 $c_1,\ldots,c_s$，蓝点对应的此集合从左到右为 $d_1,\ldots,d_t$。</p>
<p>第二个单调性：对于每个红点 $i$，设 $f_i$ 表示使得 $(a_i-c_j)\times (b_j-d_j)$ 最小的 $j$，那么 $f_i$ 随 $i$ 单调不下降。</p>
<p>为证明这个结论，我们可以先证明一个基本结论：如果 $x<y,\ \ u<v$，且 $(a_x-c_v)\times (b_x-d_v)> (a_x-c_u)\times (b_x-d_u)$，那么可以推出 $(a_y-c_v)\times (b_y-d_v)&gt; (a_y-c_u)\times (b_y-d_u)$。</p>
<p>这是因为前者等价于 $b_x(c_u-c_v)+a_x(d_u-d_v)&lt;c_ud_u-c_vd_v$，而左边大于 $b_y(c_u-c_v)+a_y(d_u-d_v)$，这又等价于我们要证明的的结论。</p>
<p>于是反复利用这个基本结论即可证明上述单调性。</p>
<p>所以最后用分治 DP 的处理方法做一下就可以了。</p>
<p>注意首先把 $c_i$ 中所有不在任何 $d_j$ 右上角的去掉，否则分治的时候不知道怎么缩小范围。</p>
<p>时间复杂度为 $O((n+m)\log(n+m))$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="122-：-text-Intellectual-Property-（-text-2020-10-16-，自己做出）"><a href="#122-：-text-Intellectual-Property-（-text-2020-10-16-，自己做出）" class="headerlink" title="#$122$：$\text{Intellectual Property}$（$\text{2020.10.16}$，自己做出）"></a>#$122$：$\text{Intellectual Property}$（$\text{2020.10.16}$，自己做出）</h3><h4 id="题目大意：-12"><a href="#题目大意：-12" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个 $9\times 9$ 数独谜题，其中某些地方没有填数，判断任意两个谜题是否本质相同，如果本质相同还需要输出转换的方法。</p>
<p>具体的得到等价谜题的操作包括：交换含有相同 $3\times 3$ 方块的行或列，整体交换这样的三个行或列，交换谜题中两种数字，以及沿左上右下对角线翻转。</p>
<p>$n\leq 20$。</p>
<hr>
<h4 id="题解：-12"><a href="#题解：-12" class="headerlink" title="题解："></a>题解：</h4><p>有个显然的做法，暴搜每个数独可以操作得到的所有数独，哈希之后放到一个 map 里，查询时直接用一个数独在另一个数独的 map 里查询。</p>
<p>但是一个数独的等价数独有 $2\times 6^8\times 9!$ 种，考虑减少这个个数。</p>
<p>首先，$9!$ 很容易去掉，交换两种数字的操作可以放到最后进行，我们只需要设计一种对数字相对大小不敏感的哈希函数即可。</p>
<p>而剩下的 $2\times 6^8$ 我们可以拆成 $6^4$ 和 $2\times 6^4$，也就是放在 map 里的等价数独是只改变了行而没有改变列的，查询的时候相反，我们枚举另一个数独改变列的所有等价数独，都在 map 里查一遍，这样就可以通过本题了。</p>
<p>代码实现上有很多细节，比较难写。</p>
<p>时间复杂度为 $O(Mn^2\log M)$，其中 $M$ 为 $6^4$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="170-：-text-String-Theory-（-text-2020-10-16-，自己做出）"><a href="#170-：-text-String-Theory-（-text-2020-10-16-，自己做出）" class="headerlink" title="#$170$：$\text{String Theory}$（$\text{2020.10.16}$，自己做出）"></a>#$170$：$\text{String Theory}$（$\text{2020.10.16}$，自己做出）</h3><h4 id="题目大意：-13"><a href="#题目大意：-13" class="headerlink" title="题目大意："></a>题目大意：</h4><p>一个 $k$ 级引用串的左右两端是 $k$ 个引号，中间的部分是若干个 $k-1$ 级引用和不包含引号的字符串的连接。</p>
<p>给定一个长度为 $n$ 的引号串（给出每一段引号的个数 $a_{1\ldots n}$），求出它最多是几级引号串，或报告无解。</p>
<p>$n,a_i\leq 100$。</p>
<hr>
<h4 id="题解：-13"><a href="#题解：-13" class="headerlink" title="题解："></a>题解：</h4><p>首先我们将每一段引号拼在一起，变成连续 $\sum\limits_{i=1}^n a_i$ 个引号。</p>
<p>接下来 DP，设 $dp(i,l,r,k)$ 表示前 $i$ 个引号匹配完成后，剩下左端未匹配的引号依次是 $l,l+1,\ldots,r$ 级引号，最后的 $k$ 是一个标记变量，值为 $0$ 或 $1$，表示当前正在匹配的引号串的内部是否已经有一个一级引号（只有有了一级引号才能形成最终的引号串）。</p>
<p>转移大概是从 $dp(i-l+1,l-1,r)$ 或 $dp(i-l,l+1,r)$ 转移到 $dp(i,l,r)$，最后一维分一些情况讨论一下转移即可，注意只有最后才能将所有引号封口。</p>
<p>时间复杂度为 $O(n^3A)$，其中 $A$ 为 $a_i$ 的最大值。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="134-：-text-J-（-text-2020-10-16-，自己做出）"><a href="#134-：-text-J-（-text-2020-10-16-，自己做出）" class="headerlink" title="#$134$：$\text{J}$（$\text{2020.10.16}$，自己做出）"></a>#$134$：$\text{J}$（$\text{2020.10.16}$，自己做出）</h3><h4 id="题目大意：-14"><a href="#题目大意：-14" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定一个包含加，减，乘，平方，负号，折叠（求一个向量各分量之和）运算的包含 $n$ 维向量和标量的长度为 $|S|$ 的算式 $S$（标量加减向量时看作各分量一致的向量，向量乘法为对应分量相乘），保证次数不超过 $10$，求值，对 $10^9$ 取模。</p>
<p>对于 $S$ 有如下约定：其中所有出现的向量只包括一个事先给定的 $X$，标量为一个数或者 $n$，运算优先级为从右到左，但可能有括号。</p>
<p>$n,|S|\leq 10^5$。</p>
<hr>
<h4 id="题解：-14"><a href="#题解：-14" class="headerlink" title="题解："></a>题解：</h4><p>只要求出 $X$ 各分量的 $k$ 次方和（$k\leq 10$），就可以快速求出折叠操作的值，对于其他运算其实都看成多项式的加减乘即可。</p>
<p>然后递归求值就做完了。</p>
<p>时间复杂度为 $O((n+|S|)k)$，其中 $k=10$ 为最大次数。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="175-：-text-Ice-Igloos-（-text-2020-10-16-，自己做出）"><a href="#175-：-text-Ice-Igloos-（-text-2020-10-16-，自己做出）" class="headerlink" title="#$175$：$\text{Ice Igloos}$（$\text{2020.10.16}$，自己做出）"></a>#$175$：$\text{Ice Igloos}$（$\text{2020.10.16}$，自己做出）</h3><h4 id="题目大意：-15"><a href="#题目大意：-15" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个圆心为坐标在 $[1,500]$ 中的整点，半径小于 $1$ 的圆，任意两圆无公共点，接下来 $q$ 次询问一条直线与多少圆相交（不存在相切情况）。</p>
<p>$n,q\leq 10^5$。</p>
<hr>
<h4 id="题解：-15"><a href="#题解：-15" class="headerlink" title="题解："></a>题解：</h4><p>暴力实现，如果斜率绝对值小于 $1$ 就枚举圆心的横坐标，否则就枚举圆心的纵坐标，容易发现在这种方式下圆心的另一维坐标只会在直线的上下 $2$ 单位范围内（可以把垂直或水平距离放成 $\sqrt 2$）。</p>
<p>时间复杂度为 $O(n+qX)$，其中 $X$ 为坐标范围大小。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="153-：-text-Fygon-2-0-（-text-2020-10-17-，自己做出）"><a href="#153-：-text-Fygon-2-0-（-text-2020-10-17-，自己做出）" class="headerlink" title="#$153$：$\text{Fygon 2.0}$（$\text{2020.10.17}$，自己做出）"></a>#$153$：$\text{Fygon 2.0}$（$\text{2020.10.17}$，自己做出）</h3><h4 id="题目大意：-16"><a href="#题目大意：-16" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $m$ 层嵌套的 <code>for</code> 循环语句，每个循环包含循环变量和上下界，其中上下界是外层变量或 $1$ 和 $n$，求关于 $n$ 的渐进复杂度和最高次项系数（常数）。</p>
<p>$m\leq 20$。</p>
<hr>
<h4 id="题解：-16"><a href="#题解：-16" class="headerlink" title="题解："></a>题解：</h4><p>用一个 $m$ 元组表示每一层循环变量的取值，容易发现一个 $m$ 元组能否取到只和每个数的相对大小关系有关。</p>
<p>所以我们从下界到循环变量连一条有向边，从循环变量到上界连一条有向边，将强连通分量缩点，剩下的图中的点数就是复杂度（次数），而对这张图进行拓扑序计数，如果有 $T$ 种拓扑序就有 $T$ 种相对关系，每一种相对关系都是 $\binom {n+m-1}{m}$（其中 $m$ 是复杂度次数）种，所以常数就是 $\dfrac{T}{m!}$。</p>
<p>时间复杂度为 $O(m\times 2^m)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="278-：-text-Journey-from-Petersburg-to-Moscow-（-text-2020-10-17-，看了题解）"><a href="#278-：-text-Journey-from-Petersburg-to-Moscow-（-text-2020-10-17-，看了题解）" class="headerlink" title="#$278$：$\text{Journey from Petersburg to Moscow}$（$\text{2020.10.17}$，看了题解）"></a>#$278$：$\text{Journey from Petersburg to Moscow}$（$\text{2020.10.17}$，看了题解）</h3><h4 id="题目大意：-17"><a href="#题目大意：-17" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点 $m$ 条边的无向带权图，定义一条路径长度为前 $k$ 长边权的和（如果边数不到 $k$，路径长就等于边权和），求 $1$ 到 $n$ 最短路。</p>
<p>$n,m,k\leq 3000$。</p>
<hr>
<h4 id="题解：-17"><a href="#题解：-17" class="headerlink" title="题解："></a>题解：</h4><p>第一种选择是最短路（这是为了计算边数可能不到 $k$ 的情况）。</p>
<p>其他的选择，我们枚举哪条是第 $k$ 大边，设其边权为 $W$，将所有边权更大的边的边权减少 $W$ 后求最短路（边权更小的边的边权直接设为 $0$），用 $dis_n+kW$ 更新答案，可以发现这等价于只选了不小于 $W$ 的边计算贡献。</p>
<p>时间复杂度为 $O(nm\log m)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="147-：-text-Traffic-Blights-（-text-2020-10-17-，模拟赛原题）"><a href="#147-：-text-Traffic-Blights-（-text-2020-10-17-，模拟赛原题）" class="headerlink" title="#$147$：$\text{Traffic Blights}$（$\text{2020.10.17}$，模拟赛原题）"></a>#$147$：$\text{Traffic Blights}$（$\text{2020.10.17}$，模拟赛原题）</h3><h4 id="题目大意：-18"><a href="#题目大意：-18" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $n$ 个红绿灯，第 $i$ 个灯在位置 $x_i$，为 $r_i$ 秒红灯和 $g_i$ 秒绿灯交替变换（从红灯开始），现在随机选择一个时间点从位置 $0$ 开始以 $1$ 的速度前进，求每个灯是第一个遇到的红灯的概率以及一个红灯都没遇到的概率。</p>
<p>$n\leq 500,  r_i+g_i\leq 100$。</p>
<hr>
<h4 id="题解：-18"><a href="#题解：-18" class="headerlink" title="题解："></a>题解：</h4><p>令 $s_i=r_i+g_i$。</p>
<p>如果所有 $s_i$ 两两互质，那么每个灯都独立，我们只需要算出之前的灯都绿的概率乘上这个灯红的概率即可算出这个灯是第一个红灯的概率。</p>
<p>如果有一些 $s_i$ 不互质，但是不互质的 $s_i$ 都相等，那么也差不多，我们考虑某个灯时，所有 $s_i$ 与它不相等的灯和它独立，而考虑 $s_i$ 相等的灯中，可以发现每盏灯的红灯时间都覆盖了出发时间 $\bmod s_i$ 意义下的一段区间，我们暴力修改和查询区间中 $1$ 的个数就可以计算这些灯的贡献了。</p>
<p>如果情况更加复杂，我们考虑简化它，取一个包含足够素因子的数 $M$，使得所有 $\dfrac{s_i}{\gcd(s_i,M)}$ 两两要么互质，要么为倍数关系，那我们就可以枚举出发时间 $\bmod M$ 的余数，然后用上面的方法计算了（如果不互质的 $s_i$ 都为倍数关系，那么我们只需要将短的补齐，覆盖长的 $s_i$ 中的若干段时间即可）。</p>
<p>取 $M=2^3\times 3^2\times 5\times 7=2520$ 即可做到这一点，因为此时 $s_i$ 除去与 $M$ 的最大公约数后不会有超过一个素因子。</p>
<p>时间复杂度为 $O(MSn)$，其中 $M=2520$，$S$ 是 $r_i+g_i$ 的最大值。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="202-：-text-Clock-Breaking-（-text-2020-10-17-，自己做出）"><a href="#202-：-text-Clock-Breaking-（-text-2020-10-17-，自己做出）" class="headerlink" title="#$202$：$\text{Clock Breaking}$（$\text{2020.10.17}$，自己做出）"></a>#$202$：$\text{Clock Breaking}$（$\text{2020.10.17}$，自己做出）</h3><h4 id="题目大意：-19"><a href="#题目大意：-19" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定显示时分的电子钟连续 $n$ 分钟的示数，每个格子有三种可能状态：正常，一直亮或一直灭，你需要求出每个格子的状态，或报告这个格子的状态无法确定，或报告无解。</p>
<p>电子钟的尺寸是 $7\times 21$，数字显示见题面。</p>
<p>$n\leq 100$。</p>
<hr>
<h4 id="题解：-19"><a href="#题解：-19" class="headerlink" title="题解："></a>题解：</h4><p>首先看输入给定的示数中每个格子有没有亮或者暗过，如果又亮过又暗过，那么这个格子一定正常。</p>
<p>然后再枚举起始时间，根据正常的格子检验这个时间是否合法，如果合法，再通过这个事件倒过去检验在输入中一直亮或一直灭的格子究竟是坏了还是可能正常显示。</p>
<p>注意，如果有多个可能的起始时间，那么对于某个格子，只要对于其中一个时间，该格子是无法确定的，那么最终答案中该格子就无法确定。</p>
<p>时间复杂度为 $O(TMn)$，其中 $T=24\times 60=1440$ 为一天的分钟数，$M=7\times 21=147$ 为电子钟尺寸。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="259-：-text-Jazz-Journey-（-text-2020-10-17-，自己做出）"><a href="#259-：-text-Jazz-Journey-（-text-2020-10-17-，自己做出）" class="headerlink" title="#$259$：$\text{Jazz Journey}$（$\text{2020.10.17}$，自己做出）"></a>#$259$：$\text{Jazz Journey}$（$\text{2020.10.17}$，自己做出）</h3><h4 id="题目大意：-20"><a href="#题目大意：-20" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个持续 $d$ 天的在 $n$ 座城市中旅行的计划，第 $i (i&lt;d)$ 天要从城市 $a_i$ 乘机直达城市 $a_{i+1}$。</p>
<p>有 $m$ 种机票，分成单程和往返两种，往返机票只有先按照一个方向经过后才能按反方向经过（第一次经过的方向给定），也可以当成单程票用，每种机票有一定费用，求完成旅行的最小开销。</p>
<p>$n,m,d\leq 3\times 10^5$。</p>
<hr>
<h4 id="题解：-20"><a href="#题解：-20" class="headerlink" title="题解："></a>题解：</h4><p>显然每对城市之间的旅行安排是独立的，我们首先将每天的计划按照出发和到达地点相同的分为一类，下面就讨论两个地点 $a,b$ 之间的旅行安排。</p>
<p>设从 $a$ 飞到 $b$ 的一天记为 $0$，从 $b$ 飞到 $a$ 的一天记为 $1$，$a\to b,  b\to a$ 的单程票价分别为 $A,B$，往返票价分别为 $C,D$，为了避免过多分类讨论，令 $A=min(A,C),B=min(B,D)$，然后再令 $C=min(C,A+B),D=min(D,A+B)$。</p>
<p>我们找到 $C,D$ 中较小的一个，显然使用这种票是最为划算的（比单程和另一种往返都划算），所以要尽可能多用，而这也就是把 $0,1$ 一前一后尽可能多地两两匹配，用一个栈来模拟括号串的匹配即可。</p>
<p>还剩下的 $0,1$ 还是尽量配对，用另一种往返票解决，有多出来的 $0$ 或 $1$ 再使用单程票。</p>
<p>时间复杂度为 $O((d+m)\log(d+m))$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="298-：-text-The-Great-Wall-（-text-2020-10-19-，自己做出）"><a href="#298-：-text-The-Great-Wall-（-text-2020-10-19-，自己做出）" class="headerlink" title="#$298$：$\text{The Great Wall}$（$\text{2020.10.19}$，自己做出）"></a>#$298$：$\text{The Great Wall}$（$\text{2020.10.19}$，自己做出）</h3><h4 id="题目大意：-21"><a href="#题目大意：-21" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $n$ 段墙，每段墙有三种代价 $a_i&lt;b_i&lt;c_i$，选择两个不同的长度为 $r$ 的区间，不属于任何一个区间的墙代价为 $a_i$，属于恰好一个区间的墙代价为 $b_i$，属于两个区间交的墙代价为 $c_i$，求代价和第 $k$ 小的方案的代价。</p>
<p>$n\leq 3\times 10^4$。</p>
<hr>
<h4 id="题解：-21"><a href="#题解：-21" class="headerlink" title="题解："></a>题解：</h4><p>二分答案 $M$，判断是否有至少 $k$ 个代价不超过 $M$ 的方案。</p>
<p>我们首先可以将所有 $a_i$ 提前算进答案，然后令新的 $b_i$ 减去 $a_i$，新的 $c_i$ 减去 $a_i+b_i$，接下来枚举靠左区间的左端点，考虑靠右区间：</p>
<ol>
<li><p>两区间相交，那么代价为两区间并的 $b_i$ 和加上交的 $c_i$ 和，可以写成只与 $x-1,y-1,x+r-1,y+r-1$ 四个位置的前缀和有关的一次式，我们已经知道 $x,r$，用主席树维护 $y$ 处对应的值即可快速查询 $y$ 的数量。</p>
</li>
<li><p>两区间不相交，那么代价就是两个区间的 $b_i$ 之和，同样用主席树维护长度为 $r$ 的区间 $b_i$ 和即可。</p>
</li>
</ol>
<p>时间复杂度为 $O(n\log^2 n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="285-：-text-Integral-Polygons-（-text-2020-10-19-，自己做出）"><a href="#285-：-text-Integral-Polygons-（-text-2020-10-19-，自己做出）" class="headerlink" title="#$285$：$\text{Integral Polygons}$（$\text{2020.10.19}$，自己做出）"></a>#$285$：$\text{Integral Polygons}$（$\text{2020.10.19}$，自己做出）</h3><h4 id="题目大意：-22"><a href="#题目大意：-22" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定凸 $n$ 边形，顶点为整点，求出有多少条对角线两端面积都为整数。</p>
<p>$n\leq 2\times 10^5$。</p>
<hr>
<h4 id="题解：-22"><a href="#题解：-22" class="headerlink" title="题解："></a>题解：</h4><p>由 Pick 定理可知，一个格点多边形面积为整数当且仅当所有边上的点数之和为偶数。</p>
<p>显而易见地，两点间线段上点数之和（端点只算一个）为偶数当且仅当它们两维坐标分别同奇偶。</p>
<p>因此一条对角线 $(x,y) (x&lt;y)$ 满足要求，当且仅当 $s_y+s_x+f(x,y)=0$，其中 $s_x$ 是前 $x$ 条边上的点数之和，$f(x,y)$ 是 $x,y$ 之间线段上点数，$+$ 为二进制加法（异或）。</p>
<p>考虑到对于确定的 $y$，$f(x,y)$ 只和 $x$ 两维坐标的奇偶性有关（$4$ 种情况），$s_x$ 只有 $0,1$ 两种需要的取值，所以只要用 $8$ 个变量记录每一种 $x$ 的数量即可。</p>
<p>注意输入的多边形面积必须是偶数，否则直接输出 $0$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="235-：-text-Single-Cut-of-Failure-（-text-2020-10-19-，自己做出）"><a href="#235-：-text-Single-Cut-of-Failure-（-text-2020-10-19-，自己做出）" class="headerlink" title="#$235$：$\text{Single Cut of Failure}$（$\text{2020.10.19}$，自己做出）"></a>#$235$：$\text{Single Cut of Failure}$（$\text{2020.10.19}$，自己做出）</h3><h4 id="题目大意：-23"><a href="#题目大意：-23" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个 $w\times h$ 矩形框，其中有 $n$ 条线段，每条线段连接框上两点，求至少需要连多少条新线段，使得每条旧线段与至少一条新线段相交，保证旧线段端点两两不同且不在四个角上。</p>
<p>$n\leq 10^6$。</p>
<hr>
<h4 id="题解：-23"><a href="#题解：-23" class="headerlink" title="题解："></a>题解：</h4><p>显然答案不超过 $2$，因为只要连两条对角线即可，所以只要判断答案是不是为 $1$。</p>
<p>我们将旧线段所有端点逆时针离散化，将编号为 $i$ 与 $i+1$ 的两点中间的一段框上区域称为第 $i$ 段，我们枚举新线段的一端，那么对于每一条旧线段，对新线段另一端的限制就是一个区间，我们只需要将所有区间求交，看看是不是非空即可。</p>
<p>区间求交就是求左端点最大值和右端点最小值，用 set 来维护，同时在移动新线段的起始端时，如果跨过了某条旧线段的端点，那么那条旧线段所代表的区间会取反，一条旧线段最多取反两次（只有两个端点）。</p>
<p>注意由于是环上区间，第二次覆盖到环开头位置时需要将下标整体增加 $n$。</p>
<p>时间复杂度为 $O(n\log n)$，据说有线性做法。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="181-：-text-Graph-（-text-2020-10-20-，看了题解）"><a href="#181-：-text-Graph-（-text-2020-10-20-，看了题解）" class="headerlink" title="#$181$：$\text{Graph}$（$\text{2020.10.20}$，看了题解）"></a>#$181$：$\text{Graph}$（$\text{2020.10.20}$，看了题解）</h3><h4 id="题目大意：-24"><a href="#题目大意：-24" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点 $m$ 条边的有向图，添加至多 $k$ 条边使得字典序最小的拓扑排序字典序最大。</p>
<p>$n,m,k\leq 10^5$。</p>
<hr>
<h4 id="题解：-24"><a href="#题解：-24" class="headerlink" title="题解："></a>题解：</h4><p>模拟求解最小字典序拓扑序的过程，但我们增加一个辅助队列 $q2$，用来存想要放到之后加入拓扑序的编号较小的结点（以使得字典序变大），原队列成称为 $q1$。</p>
<p>如果 $q1$ 中取出最小值后仍有其他元素，并且 $k$ 条边还没有用完，那么我们可以暂时将它存到 $q2$ 中（因为可以先放 $q1$ 中靠后的点，再通过加边的限制使得编号小的点排在后面）。</p>
<p>如果 $q1$ 中已没有点，那么我们就只能从 $q2$ 中取出最大点，将它放入当且拓扑序的末尾了，在构造加边方案时，从之前拓扑序的最后一个点像这个点加一条边即可保证求出来的一定是加边情况下新图字典序最小的拓扑序。</p>
<p>时间复杂度为 $O(n\log n)$（$n,m,k$ 同阶）。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="183-：-text-Hack-Protection-（-text-2020-10-20-，自己做出）"><a href="#183-：-text-Hack-Protection-（-text-2020-10-20-，自己做出）" class="headerlink" title="#$183$：$\text{Hack Protection}$（$\text{2020.10.20}$，自己做出）"></a>#$183$：$\text{Hack Protection}$（$\text{2020.10.20}$，自己做出）</h3><h4 id="题目大意：-25"><a href="#题目大意：-25" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定长度为 $n$ 的序列 $a_{1\ldots n}$，求出有多少个区间的 xor 和等于 and 和。</p>
<p>$n\leq 10^5,  a_i\leq 2^{31}-1$。</p>
<hr>
<h4 id="题解：-25"><a href="#题解：-25" class="headerlink" title="题解："></a>题解：</h4><p>令 $s_i$ 表示前缀异或和。</p>
<p>对于每一位，某个区间的 xor 和等于 and 和当且仅当它全是 $1$ 且长为奇数，或不全是 $1$ 且 $1$ 有偶数个。</p>
<p>首先考虑不全是 $1$ 的情况，此时一段区间 $[l,r]$ 中每一位的 $1$ 都有偶数个，显然等价于 $s_{l-1}=s_r$，要统计这样的 $l$ 的个数，只要一个主席树就可以完成。</p>
<p>如果存在某些位全为 $1$，那么我们设 $las_i$ 表示当前状态下前一个第 $i$ 位为 $0$ 的数下标是多少，那么我们可以枚举有多少位是全为 $1$ 的，可以通过 $las_i$ 排序后的结果知道哪些位上全为 $1$，并得到这些位全为 $1$，其他位不全为 $1$ 的区间范围，这些位满足 $s_{l-1}\ne s_r$，其他位满足 $s_{l-1}=s_r$，因此我们将每一位相等或不等关系压成一个二进制数，同样在主席树上查询。</p>
<p>时间复杂度为 $O(n\log^2 n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="291-：-text-Binary-Code-（-text-2020-10-20-，自己做出）"><a href="#291-：-text-Binary-Code-（-text-2020-10-20-，自己做出）" class="headerlink" title="#$291$：$\text{Binary Code}$（$\text{2020.10.20}$，自己做出）"></a>#$291$：$\text{Binary Code}$（$\text{2020.10.20}$，自己做出）</h3><h4 id="题目大意：-26"><a href="#题目大意：-26" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个长度和不超过 $5\times 10^5$ 的 $01$ 串，每个串中最多有一个 $?$，求一种将每个 $?$ 换为 $0$ 或 $1$ 的方案使得这些串两两不为前缀关系，或报告无解。</p>
<p>$n\leq 5\times 10^5$。</p>
<hr>
<h4 id="题解：-26"><a href="#题解：-26" class="headerlink" title="题解："></a>题解：</h4><p>首先将每个串中的 $?$ 理解成 $0$ 和 $1$ 分别都插到一棵字典树上，我们将此时字典树上插入过的一个字符串记为二元组 $(a,b)$，$a$ 表示原来是第几个串，$b$ 表示其中 $?$ 填的是 $0$ 还是 $1$。</p>
<p>从每一个 $(a,b)$ 对应的点往根结点走，如果路过另一个点 $(c,d)$，就说明当 $a$ 中 $?$ 取 $b$ 和 $c$ 中 $?$ 取 $d$ 不能并存（否则就是前缀关系了），这显然是 2-SAT 问题，跑个 Tarjan 就做完了。</p>
<p>稍微分析一下会发现，字符串不重复的情况下边数不会超过 $O(n^{\frac{4}{3}})$，猜测也有可能可以证到 $O(n)$。</p>
<p>但是字符串可能会重复，这时候我们加一个特判，如果同样的字符串出现了三次，那么必有至少两次是一样的，直接输出无解。</p>
<p>时间复杂度为 $O(n+e)$，$e$ 为 2-SAT 建出的边数。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="103-：-text-Boys-and-Girls-（-text-2020-10-21-，自己做出）"><a href="#103-：-text-Boys-and-Girls-（-text-2020-10-21-，自己做出）" class="headerlink" title="#$103$：$\text{Boys and Girls}$（$\text{2020.10.21}$，自己做出）"></a>#$103$：$\text{Boys and Girls}$（$\text{2020.10.21}$，自己做出）</h3><h4 id="题目大意：-27"><a href="#题目大意：-27" class="headerlink" title="题目大意："></a>题目大意：</h4><p>求长为 $n$ 的由男生和女生组成的环，使得两边至少有一个男生的人数为 $x$，两边至少有一个女生的人数为 $y$，或报告无解。</p>
<p>$n,x,y\leq 10^5$。</p>
<hr>
<h4 id="题解：-27"><a href="#题解：-27" class="headerlink" title="题解："></a>题解：</h4><p>这题在 CF 上还 WA 着，OJ 上数据比较弱，等真正过了再写。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="239-：-text-Triangles-（-text-2020-10-21-，自己做出）"><a href="#239-：-text-Triangles-（-text-2020-10-21-，自己做出）" class="headerlink" title="#$239$：$\text{Triangles}$（$\text{2020.10.21}$，自己做出）"></a>#$239$：$\text{Triangles}$（$\text{2020.10.21}$，自己做出）</h3><h4 id="题目大意：-28"><a href="#题目大意：-28" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定一个 $r$ 行 $c$ 列点阵（图形见题面），有一些边存在，数三角形个数。</p>
<p>$r\leq 3000,  c\leq 6000$。</p>
<hr>
<h4 id="题解：-28"><a href="#题解：-28" class="headerlink" title="题解："></a>题解：</h4><p>先数正着放的三角形数量，反着放的同理。</p>
<p>显然图中所有三角形都是等边三角形，我们枚举水平的那条边，判定两侧在它们那一行是否通过横向边联通，以及向上延申是否可以相交，可以得到一个复杂度三方的做法。</p>
<p>我们只需要用数据结构优化这一过程，考虑每一行时，对于每个点 $i$，求出它往左最多可以延申（向正左和左上都能扩展才算）的位置 $l_i$ 和往右最多可以延申（向正右和右上都能扩展才算）的位置 $r_i$，那么一对点 $(x,y)$ 满足条件当且仅当 $l_y\leq x&lt; y\leq r_x$，这可以将 $y$ 一维“离线”，从左往右扫 $x$，用树状数组来维护当且所有满足 $l_y\leq x$ 的 $y$，对 $[x+1,r_x]$ 区间求和来实现。</p>
<p>时间复杂度为 $O(rc\log c)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="281-：-text-Balanced-Diet-（-text-2020-10-21-，自己做出）"><a href="#281-：-text-Balanced-Diet-（-text-2020-10-21-，自己做出）" class="headerlink" title="#$281$：$\text{Balanced Diet}$（$\text{2020.10.21}$，自己做出）"></a>#$281$：$\text{Balanced Diet}$（$\text{2020.10.21}$，自己做出）</h3><h4 id="题目大意：-29"><a href="#题目大意：-29" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $m$ 种糖，每种糖有一个权值 $a_i$，对于一个吃了 $n$ 颗糖的方案，称其是合法的当且仅当对于每一种糖 $i$，设吃了 $s_i$ 颗，满足 $\dfrac{na_i}{\sum a_i}-1&lt;s_i&lt;\dfrac{na_i}{\sum a_i}+1$。</p>
<p>给定一个长度为 $k$ 的吃糖序列，保证每个前缀均合法，求最多还能吃多少颗糖，使得仍然保持每个前缀均合法，或报告可以无限吃下去。</p>
<p>$m,k,\sum a_i\leq 10^5$。</p>
<hr>
<h4 id="题解：-29"><a href="#题解：-29" class="headerlink" title="题解："></a>题解：</h4><p>贪心，设 $t_i$ 表示当前情况下满足 $\dfrac{na_i}{\sum a_i}-1&lt;s_i$ 的最大的 $n$，每次选择 $t_i$ 最小的位置，吃一颗对应的糖，直到 $t_i$ 比当前总糖数还少，用优先队列来实现。</p>
<p>证明一下，其实这种决策的不劣性是显然的（即使去吃别的糖，也必须在 $t_i$ 颗内再吃一次这种糖），所以只要证明可行性，事实上这种方案一定是可行的，因为我们有 $\sum\limits_{i=1}^m \dfrac{a_i}{\sum a_i}=1$，所以一定存在一种糖使得 $s_i\leq \dfrac{na_i}{\sum a_i}$，那么吃一种这颗糖是不会超过最大限制的，因为此时 $s_i+1\leq \dfrac{na_i}{\sum a_i}+1&lt;\dfrac{(n+1)a_i}{\sum a_i}+1$。</p>
<p>最后要判定是否可以无限吃下去，在数据范围中已经明示，不难猜想当吃到 $\sum a_i$ 颗糖时即可无限吃下去，可以感性理解为吃了这么多糖以后每种糖的 $s_i$ 和 $n$ 的关系被卡死，一定和初始状态是一样的。</p>
<p>时间复杂度为 $O((\sum a_i)\log m+k)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="227-：-text-Branch-Assignment-（-text-2020-10-22-，自己做出）"><a href="#227-：-text-Branch-Assignment-（-text-2020-10-22-，自己做出）" class="headerlink" title="#$227$：$\text{Branch Assignment}$（$\text{2020.10.22}$，自己做出）"></a>#$227$：$\text{Branch Assignment}$（$\text{2020.10.22}$，自己做出）</h3><h4 id="题目大意：-30"><a href="#题目大意：-30" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点 $m$ 条边的有向带权图，定义 $i,j$ 两个点联络代价为从 $i$ 途径 $b+1$ 走到 $j$ 的最短路长，将 $1,\ldots,b$ 号点分成 $s$ 个集合，使得同一个集合内两两联络代价和之和最小。</p>
<p>$n\leq 5000,  m\leq 5\times 10^4$。</p>
<hr>
<h4 id="题解：-30"><a href="#题解：-30" class="headerlink" title="题解："></a>题解：</h4><p>设 $i$ 到 $n$ 的最短路为 $b_i$，$n$ 到 $i$ 的最短路为 $c_i$，令 $a_i=b_i+c_i$，对于分出的大小为 $k$ 的集合，可知其中每个点 $i$ 对联络代价和的贡献都是 $(k-1)(b_i+c_i)=(k-1)a_i$。</p>
<p>我们将所有点按照 $a_i$ 从小到大排序，通过一番胡乱推导或感性理解会发现：最优方案中每个集合一定都是一个区间，且靠后的区间长度更短。</p>
<p>简单说明一下，后者比较显然，如果后面的集合更大，那么只要把一部分分给较小的靠前的集合，答案会变小；而前者是后者的推论，如果有个集合不是区间，那么将不连通的部分与另一个有相邻元素的集合的相邻部分交换一下，会更优。</p>
<p>这样以后可以 DP，直接 DP 不优化的是 $O(n^3)$，听说可以四边形不等式，不过这里我采用了 wqs 二分，然后基本就是个裸题，不多赘述。</p>
<p>时间复杂度为 $O(n^2\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="135-：-text-Chain-amp-Co-（-text-2020-10-22-，自己做出）"><a href="#135-：-text-Chain-amp-Co-（-text-2020-10-22-，自己做出）" class="headerlink" title="#$135$：$\text{Chain &amp; Co.}$（$\text{2020.10.22}$，自己做出）"></a>#$135$：$\text{Chain &amp; Co.}$（$\text{2020.10.22}$，自己做出）</h3><h4 id="题目大意：-31"><a href="#题目大意：-31" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定三维立体中 $n$ 个相同尺寸的正方形框，两两边线无交点，求能否分成两个子集 $A,B$，使得对于任意 $x\in A,y\in B$，$x,y$ 不能分离（即不能把 $y$ 脱离 $x$ 独立拉出来）。</p>
<p>多组数据。</p>
<p>$\sum n\leq 10^6$。</p>
<hr>
<h4 id="题解：-31"><a href="#题解：-31" class="headerlink" title="题解："></a>题解：</h4><p>将正方形框分成三类：分别是平行于 $xy,yz,zx$ 平面的。</p>
<p>显然对于同一类正方形框，由于边界不相交，所以要么是异面，要么是在同一平面上但相离，那么它们不能分属 $A,B$ 两个集合，只能属于同一个集合。</p>
<p>所以只要枚举一下，将三类点分成两个集合，剩下的就是要判定三类点中每两类点是不是两两不能分离的（随便从两类点中各选出一个都不能分离）。</p>
<p>如果固定了另一个框的方向，那么对于一个确定的框来说，满足另一个框与它不能分离的那个框的某个特征点（如左下角点）的轨迹是一个可以求出的长方体，我们枚举一类点，将所有这样的长方体取交，再判定另一类点是否都在这个交集中即可。</p>
<p>时间复杂度为 $O(\sum n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="241-：-text-Lonely-Mountain-（-text-2020-10-22-，自己做出）"><a href="#241-：-text-Lonely-Mountain-（-text-2020-10-22-，自己做出）" class="headerlink" title="#$241$：$\text{Lonely Mountain}$（$\text{2020.10.22}$，自己做出）"></a>#$241$：$\text{Lonely Mountain}$（$\text{2020.10.22}$，自己做出）</h3><h4 id="题目大意：-32"><a href="#题目大意：-32" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定三维多面体在 $xz,yz$ 两面上的投影（分别是包含 $n_x,n_y$ 个端点的折线段），保证两方向轮廓线都是向上宽度递减的底部 $z$ 坐标为 $0$ 的连通区域，求多面体最小体积，或报告无解。</p>
<p>$n_x,n_y\leq 10^5$。</p>
<hr>
<h4 id="题解：-32"><a href="#题解：-32" class="headerlink" title="题解："></a>题解：</h4><p>如果两维投影最大高度相等，那么有解，否则无解。</p>
<p>首先考虑两维宽度都随高度线性递减的情况，即两维投影都是梯形（或退化成三角形），此时设六面体下底面为 $a\times b$，上底面为 $c\times d$，通过积分或者割补可以知道体积为 $\dfrac{(a-c)(b-d)}{3}+\dfrac{ad+bc}{2}$。</p>
<p>如果两维投影是更复杂的折线，我们只需沿着所有拐点的 $z$ 坐标将折线下方的区域切分成若干个梯形或三角形的并，对于每一段梯形和三角形做一次上面的事情即可（注意上面的面积结论当这个梯形的双底被分割成好几段不连续区间的时候也是成立的，所以有多峰的情况并不影响答案）。</p>
<p>在同一段内，宽度随高度递减，其递减速率可以通过一条从下到上的扫描线算出，扫描时记录当前与扫描线相交的所有折线段的斜率总和，那么这个斜率总和就是宽度随高度递减的速率。</p>
<p>时间复杂度为 $O((n_x+n_y)\log(n_x+n_y))$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="253-：-text-Fragmentation-（-text-2020-10-23-，自己做出）"><a href="#253-：-text-Fragmentation-（-text-2020-10-23-，自己做出）" class="headerlink" title="#$253$：$\text{Fragmentation}$（$\text{2020.10.23}$，自己做出）"></a>#$253$：$\text{Fragmentation}$（$\text{2020.10.23}$，自己做出）</h3><h4 id="题目大意：-33"><a href="#题目大意：-33" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定序列 $a_{1\ldots n}$，求一种分段方法，使得在不改变同一段内数的顺序的情况下可以将序列排序。</p>
<p>$n\leq 10^5$。</p>
<hr>
<h4 id="题解：-33"><a href="#题解：-33" class="headerlink" title="题解："></a>题解：</h4><p>一段连续的相同的数显然可以缩起来，缩完之后离散化一下，设得到的新序列为 $b_{1\ldots m}$。</p>
<p>可以发现 $i$ 和 $i+1$ 两个数处于同一段中的情况最多只会出现一次（否则两个包含 $i  i+1$ 的段无法排序），所以答案其实取决于存在 $i,i+1$ 处于同一段的 $i$ 的数量。</p>
<p>于是我们令 $dp(j)$ 表示当 $b_j,b_{j-1}$ 这两个数处于同一段（前提是 $b_j=b_{j-1}+1$）时，序列里不超过 $b_{j-1}$ 的数中最多有多少对 $(k,k+1)$ 处于同一段，我们按照 $b_j$ 从小到大更新，为了方便转移，我们对状态稍作修改，$dp(j)$ 可以是 $b_j,b_{j-1}$ 处于一段，也可以是不处于一段（要看哪个答案更小），这时 $j$ 的取值就不需要满足 $b_j=b_{j-1}+1$ 了。</p>
<p>第一种转移是 $b_j,b_{j-1}$ 不在同一段，$dp(y)\to dp(j)$，这里 $y$ 就是任意的，只要 $b_y&lt;b_j$ 即可。</p>
<p>第二种转移是把 $b_j,b_{j-1}$ 放在一段里，$dp(y)+1\to dp(j)$，这里 $y$ 也没有什么限制，但是有一条规则：如果 $y=j-1$，并且 $b_y,b_{y-1}$ 也在同一段中，那么就意味着 $b_{j-2},b_{j-1},b_j$ 都在同一段中，当且仅当 $b_{j-1}$ 在整个序列中只出现过这一次时才能这么转移（否则会漏掉别的地方的 $b_{j-1}$）。</p>
<p>具体实现时为了输出方案，还要对每个状态记录前驱状态，再额外记录一个 $dn(j)$ 表示 $dp(j)$ 这个状态中是否把 $b_j,b_{j-1}$ 放在了一段。</p>
<p>时间复杂度为 $O(n\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="246-：-text-Digital-Addition-（-text-2020-10-23-，自己做出）"><a href="#246-：-text-Digital-Addition-（-text-2020-10-23-，自己做出）" class="headerlink" title="#$246$：$\text{Digital Addition}$（$\text{2020.10.23}$，自己做出）"></a>#$246$：$\text{Digital Addition}$（$\text{2020.10.23}$，自己做出）</h3><h4 id="题目大意：-34"><a href="#题目大意：-34" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定一个电子钟字体书写的两数加法竖式（两个加数以及和分别写在三行），三个数位数都为 $w$（可能有前导零），但是由于显示出了问题，下一行的数的最上方一条线会重叠显示在上一行的数的中间那条线上，右边一列的数的最左边一条线会重叠显示在左边一列的数的最右边那条线上，求一种可能的竖式或报告无解。</p>
<p>$w\leq 100$。</p>
<hr>
<h4 id="题解：-34"><a href="#题解：-34" class="headerlink" title="题解："></a>题解：</h4><p>由于 $w$ 非常小，随便做做就可以。</p>
<p>设 $dp(i,j,k,l)$ 表示最后 $i$ 位，第 $i$ 位上三个数分别是 $j,k,l$ 时是否可行，如果可行还需要记录前驱状态。</p>
<p>转移时只需要暴力枚举（总共的 $(j,k,l)$ 也不超过 $200$ 组），可以根据每一列的横向线来除掉一些无用状态，此后就是模拟相邻两列六个数的状态，是否和给定的示数相等即可。</p>
<p>实现方法就不具体写了。</p>
<p>时间复杂度为 $O(D^4\times w)$，其中进制数 $D=10$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="262-：-text-Laminar-Family-（-text-2020-10-23-，自己做出）"><a href="#262-：-text-Laminar-Family-（-text-2020-10-23-，自己做出）" class="headerlink" title="#$262$：$\text{Laminar Family}$（$\text{2020.10.23}$，自己做出）"></a>#$262$：$\text{Laminar Family}$（$\text{2020.10.23}$，自己做出）</h3><h4 id="题目大意：-35"><a href="#题目大意：-35" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定一棵 $n$ 个点的无根树和树上的 $m$ 条路径，求是否存在两条路径相交而不为包含关系。</p>
<p>$n,m\leq 10^5$。</p>
<hr>
<h4 id="题解：-35"><a href="#题解：-35" class="headerlink" title="题解："></a>题解：</h4><p>两条路径相交，那么它们的最浅点（称为路径的 LCA）显然必须是祖先-后代关系。</p>
<p>将路径的相交分成两种，一种是 LCA 相同，另一种是 LCA 不同，只需分别判定这两类的所有相交是否都是包含关系即可。</p>
<p>第一类：LCA 相同：</p>
<p>我们只需要枚举 $x$，对以 $x$ 为 LCA 的路径按照长度从小到大排序，判定是否相邻两条路径都是包含关系，如果是那么就说明它们两两都是包含关系。</p>
<p>第二类：LCA 不同：</p>
<p>我们考虑对于每条路径（设其 LCA 为 $u$），求出 LCA 是 $u$ 后代的路径中有多少条与它相交，又有多少条是它的子路径，然后看看是不是都相等就可以了。</p>
<ol>
<li><p>相交：对于每条路径，给其 LCA 的权值加上 $1$，那么求出与一条路径相交的 LCA 为后代的路径有多少条与它相交，就是一个链上求和，预处理一下到根的前缀和即可。</p>
</li>
<li><p>包含：对于路径 $(u,v)$，如果 $u,v$ 不是祖先-后代关系，那么这条路径不可能是一条 LCA 深度更小路径的子路径（因为在其 LCA 处分成两支），否则，设 $u$ 是 $v$ 的祖先，那么它是所有满足 LCA 为 $u$ 祖先，一支在 $v$ 子树内的路径的子路径，对此我们将每条路径记录在其 LCA 上，然后进行一次线段树合并，遇到上述路径 $(u,v)$ 时在 $u$ 的树上给 $v$ 的所有后代做一个区间加，查询时只要查一条路径两端点处在 LCA 所对应线段树上的值即可，注意用标记永久化减小空间。</p>
</li>
</ol>
<p>时间复杂度为 $O((n+m)\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="178-：-text-ASCII-Puzzle-（-text-2020-10-23-，自己做出）"><a href="#178-：-text-ASCII-Puzzle-（-text-2020-10-23-，自己做出）" class="headerlink" title="#$178$：$\text{ASCII Puzzle}$（$\text{2020.10.23}$，自己做出）"></a>#$178$：$\text{ASCII Puzzle}$（$\text{2020.10.23}$，自己做出）</h3><h4 id="题目大意：-36"><a href="#题目大意：-36" class="headerlink" title="题目大意："></a>题目大意：</h4><p>完成一个 $n^2$ 块拼图的 $nh\times nw$ 拼图谜题（给定拼图碎片的规则见题面）。</p>
<p>$n\leq 4,  3\leq w,h\leq 5$。</p>
<hr>
<h4 id="题解：-36"><a href="#题解：-36" class="headerlink" title="题解："></a>题解：</h4><p>首先特判 $n=1$ 的情况，剩余的情况都会有四个角落。</p>
<p>首先找到拼图所在“平凡块”的四角，然后可以求出对应的四条边是否是光滑的。</p>
<p>如果有两条边都是光滑的，那么一定放在对应的角落上，如果有一条边是光滑的那么一定放在对应的边上，剩下的就放中间。</p>
<p>同一条边上的拼图顺序和内部拼图顺序暴搜即可。</p>
<p>时间复杂度为 $O(n^2wh\times T)$，$T$ 是最大的情况数，在 $n=4$ 时 $T=2^4\times 4!=384$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="141-：-text-Tarot-Sham-Boast-（-text-2020-10-24-，自己做出）"><a href="#141-：-text-Tarot-Sham-Boast-（-text-2020-10-24-，自己做出）" class="headerlink" title="#$141$：$\text{Tarot Sham Boast}$（$\text{2020.10.24}$，自己做出）"></a>#$141$：$\text{Tarot Sham Boast}$（$\text{2020.10.24}$，自己做出）</h3><h4 id="题目大意：-37"><a href="#题目大意：-37" class="headerlink" title="题目大意："></a>题目大意：</h4><p>随机一个字符集为 $\{R,S,P\}$ 的长为 $n$ 的字符串 $T$，给定 $s$ 个模式串 $S_{1\ldots s}$，按照它们在 $T$ 中作为子串出现的概率排序（如果概率相同按照输入顺序排序）。</p>
<p>$n\leq 10^6,  s\leq 10,  |S_i|\leq 10^5$。</p>
<hr>
<h4 id="题解：-37"><a href="#题解：-37" class="headerlink" title="题解："></a>题解：</h4><p>根据歌唱王国的结论，模式串 $S$ 在随机文本串中第一次出现的位置期望为 $\sum\limits_{b\in B} |\Sigma|^b$，其中 $B$ 是 $S$ 的 Border 长度集合。</p>
<p>据此不难猜想：本题中按每个长度是不是模式串的 Border 得到每个串对应的一个新的 $01$ 串，这些 $01$ 串的字典序排序结果就是答案（也就是两个模式串最长的不同长度的 Border，如果其中一个更长，那么对应模式串出现的概率就更低）。</p>
<p>但是我们要注意有些 Border 是没有用的，用一个简单的容斥来理解，我们统计一个串出现的概率时用它在每个位置出现的概率减去多个位置同时出现的概率，而 $S_i$ 的一个 Border 长度 $x$ 如果满足 $2|S_i|-x&gt;n$，那么以 $x$ 为公共前后缀时两个 $S_i$ 放不进长度为 $n$ 的 $T$ 中，所以这个 Border 是无用的，要去掉。</p>
<p>根据上述感性理解，用 KMP 求一下 Border 就做完了。</p>
<p>过题之后找了下题解，具体证明我看不懂：<a target="_blank" rel="noopener" href="http://www.csc.kth.se/~austrin/icpc/tarotshamproof.pdf">http://www.csc.kth.se/~austrin/icpc/tarotshamproof.pdf</a></p>
<p>时间复杂度为 $O(s\sum |S_i|)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="286-：-text-Kitchen-Knobs-（-text-2020-10-24-，自己做出）"><a href="#286-：-text-Kitchen-Knobs-（-text-2020-10-24-，自己做出）" class="headerlink" title="#$286$：$\text{Kitchen Knobs}$（$\text{2020.10.24}$，自己做出）"></a>#$286$：$\text{Kitchen Knobs}$（$\text{2020.10.24}$，自己做出）</h3><h4 id="题目大意：-38"><a href="#题目大意：-38" class="headerlink" title="题目大意："></a>题目大意：</h4><p>顺序给定 $n$ 个包含 $7$ 个一位数的轮盘，每个轮盘有一个初始指针，定义其示数为从初始指针开始顺时针读取一周得到的七位数，每一次操作可以将一个区间中所有轮盘的初始指针朝同一方向转动一个固定的角度，求至少多少次操作可以使所有轮盘都显示其可能的最大示数。</p>
<p>$n\leq 500$。</p>
<hr>
<h4 id="题解：-38"><a href="#题解：-38" class="headerlink" title="题解："></a>题解：</h4><p>如果一个轮盘上所有数都一样，那么直接删除它，这对答案没有任何影响。</p>
<p>否则，一个轮盘的最大示数对应的指针位置是唯一的（否则可以证明 $1,\ldots,7$ 都是它的 Border 长度，从而每一位相等），我们求出这个指针位置和初始位置的差值，即为需要转动的格数。</p>
<p>于是问题转化成了：将一个初始全 $0$ 的序列最少做几次区间加法，可以得到给定序列？</p>
<p>对给定序列差分，可以进一步转化成：将一个初始全 $0$ 的序列每次选择两个数一加一减一个相同的值（或只修改一个数），最少几次可以得到给定序列？</p>
<p>注意，上述操作都是在 $\bmod 7$ 意义下的，值域也都是 $[0,6]$。</p>
<p>如果一次操作中改变了 $a,b$ 两位置上的数（$a&lt;b$），另一次操作改变了 $b,c$ 两位置上的数（$b&lt;c$），那么我们可以将它用一次对 $a,c$ 的操作和一次对 $b,c$ 的操作来等效，所以存在一个最优方案，使得不存在一个 $b$ 既和前面的数同时操作过，又和后面的数同时操作过。</p>
<p>如果一个 $b$ 只和前面的某些数（记为 $S$）同时操作过，那么 $b$ 当然就等于 $S$ 中所有元素的和的相反数，也就是 $\{b\}\cup S$ 的元素和为 $0$，一个子集和为 $0$ 对应着一个 $b$ 可以通过之前的操作变为给定的数。</p>
<p>所以问题进一步转化为：最多可以从给定序列中分出多少和为 $0$ 的子集？</p>
<p>我们首先证明，假设 $a+b=0$，那么一定存在一个最优方案，使得每个 $a$ 都与 $b$ 组成一个子集，或每个 $b$ 都与 $a$ 组成一个子集。这是因为假设结论不成立，那么有一个 $a$ 与另一些数 $S_1$ 组合，有一个 $b$ 与另一些数 $S_2$ 组合，可以换成 $a,b$ 组合，$S_1,S_2$ 组合。</p>
<p>于是本来有 $6$ 种数（$1,2,3,4,5,6$），通过这样的两两匹配只会剩下三种（$1,6$ 中较多的那种，$2,5$ 中较多的那种，$3,4$ 中较多的那种）。</p>
<p>然后就可以 DP 了，设 $dp(i,j,k)$ 表示当三种数分别有 $i,j,k$ 个时最少操作数，那么 $dp(i-a,j-b,k-c)+a+b+c-1\to dp(i,j,k)$，其中 $a$ 个第一种数，$b$ 个第二种数，以及 $c$ 个第三种数的和为 $0$。</p>
<p>由于 $7x\equiv 0$，所以 $a,b,c\leq 6$（除了 $a=7,b=c=0$ 及两种对称情况外），由于 $7$ 是素数，所以与小于它的所有数互素，一旦确定 $a,b$ 也就确定了 $c$，所以这样的 $(a,b)$ 有 $49$ 对，复杂度可以接受。</p>
<p>时间复杂度为 $O(n^3P^2)$，$P=7$ 为模数。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="154-：-text-Evolution-in-Parallel-（-text-2020-10-25-，自己做出）"><a href="#154-：-text-Evolution-in-Parallel-（-text-2020-10-25-，自己做出）" class="headerlink" title="#$154$：$\text{Evolution in Parallel}$（$\text{2020.10.25}$，自己做出）"></a>#$154$：$\text{Evolution in Parallel}$（$\text{2020.10.25}$，自己做出）</h3><h4 id="题目大意：-39"><a href="#题目大意：-39" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定字符串 $S$ 和 $n$ 个字符串 $T_1,\ldots,T_n$，求所有 $T_i$ 是否都是 $S$ 的子序列，并且将 $T_i$ 划分为 $2$ 个集合，使得同一个集合内的字符串两两是子序列关系。</p>
<p>$n\leq 4000,  |S|,|T_i|\leq 4000$。</p>
<hr>
<h4 id="题解：-39"><a href="#题解：-39" class="headerlink" title="题解："></a>题解：</h4><p>先把存在 $T_i$ 不是 $S$ 子序列的情况判掉。</p>
<p>然后 DP，将 $T_i$ 按长度从小到大排序，设 $dp(i,j)$ 表示将 $T_1,\ldots,T_i$ 分成两列，最后一个串分别是 $T_i$ 和 $T_j$ 时是否可行，如果可行那么还要记录前驱。</p>
<p>暴力转移，如果 $dp(i,j)$ 可行且 $T_j$ 是 $T_{i+1}$ 的子序列，那么 $dp(i+1,i)$ 也可行；如果 $T_i$ 是 $T_{i+1}$ 的子序列，那么 $dp(i,j)$ 可以转移到 $dp(i+1,j)$。</p>
<p>这里我也没想到怎么优化，随便优化一下常数就过了。</p>
<p>时间复杂度为 $O(n^3)$。 </p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="190-：-text-Landscape-Improved-（-text-2020-10-25-，自己做出）"><a href="#190-：-text-Landscape-Improved-（-text-2020-10-25-，自己做出）" class="headerlink" title="#$190$：$\text{Landscape Improved}$（$\text{2020.10.25}$，自己做出）"></a>#$190$：$\text{Landscape Improved}$（$\text{2020.10.25}$，自己做出）</h3><h4 id="题目大意：-40"><a href="#题目大意：-40" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $w$ 堆石块从左到右排列，第 $i$ 堆包含 $h_i$ 个石块，你需要添加不超过 $n$ 个石块，满足每个新加的石块的左下和右下都需要有一个石块，使得最高的石堆高度最大。</p>
<p>$w\leq 10^5,  n\leq 10^{18}$。</p>
<hr>
<h4 id="题解：-40"><a href="#题解：-40" class="headerlink" title="题解："></a>题解：</h4><p>二分答案 $m$，枚举添加后高度为 $m$ 的石堆 $i$，从 $i$ 向两边搜至少要将石块添加到哪里才能使得每个新加的石块的左下和右下都有一个石块，这个可以用 ST 表维护 $h_i+i$ 和 $h_i-i$ 的最小值来求出。</p>
<p>时间复杂度为 $O(w\log w\log \sqrt n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="270-：-text-Pork-barrel-（-text-2020-10-25-，自己做出）"><a href="#270-：-text-Pork-barrel-（-text-2020-10-25-，自己做出）" class="headerlink" title="#$270$：$\text{Pork barrel}$（$\text{2020.10.25}$，自己做出）"></a>#$270$：$\text{Pork barrel}$（$\text{2020.10.25}$，自己做出）</h3><h4 id="题目大意：-41"><a href="#题目大意：-41" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点 $m$ 条边的无向带权图，$q$ 次询问仅保留权值在一个区间中的边时，连通块数最少的最小生成森林的边权和。</p>
<p>多组数据。</p>
<p>$\sum n\leq 10^5,  \sum m\leq 5\times 10^5,  \sum q\leq 10^6$。</p>
<hr>
<h4 id="题解：-41"><a href="#题解：-41" class="headerlink" title="题解："></a>题解：</h4><p>类似须臾幻境，不过我们会发现选取的边是边权尽量偏小的边，所以我们需要按照边权从大到小倒着做。</p>
<p>用个 LCT 维护当且的 MST，由于询问的权值和权值区间是同一个权值，所以直接求权值 MST。</p>
<p>最后用主席树维护每个时刻的答案。</p>
<p>时间复杂度为 $O((m+q)\log n+n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="277-：-text-Tours-（-text-2020-10-25-，自己做出）"><a href="#277-：-text-Tours-（-text-2020-10-25-，自己做出）" class="headerlink" title="#$277$：$\text{Tours}$（$\text{2020.10.25}$，自己做出）"></a>#$277$：$\text{Tours}$（$\text{2020.10.25}$，自己做出）</h3><h4 id="题目大意：-42"><a href="#题目大意：-42" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点 $m$ 条边的无向图，求出所有可能的 $k$，使得给每条边一个 $[1,k]$ 的整数权值，能够使得每个长度不小于 $3$ 的简单环上每种权值出现次数相等。</p>
<p>$n,m\leq 2000$。</p>
<hr>
<h4 id="题解：-42"><a href="#题解：-42" class="headerlink" title="题解："></a>题解：</h4><p>相交的不同的环可以异或出新的区间，我们发现任意多个环相加减（相异或）得到的必须仍然是每个权值出现次数一致的边集，也容易证明只要 $k$ 是所有这样边集的公因数就满足条件。</p>
<p>而两条边永远同时出现或不出现在这样的边集，当且仅当覆盖它们的环的集合完全一致。</p>
<p>所以我们求出一个 DFS 树，每条非树边随机赋一个权值，然后一条树边的权值等于跨过它的所有非树边的权值异或，最后数除了 $0$ 之外所有权值等价类大小的 $\gcd$，它的所有因数就是答案。</p>
<p>时间复杂度为 $O(m\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="247-：-text-The-Imp-（-text-2020-10-26-，自己做出）"><a href="#247-：-text-The-Imp-（-text-2020-10-26-，自己做出）" class="headerlink" title="#$247$：$\text{The Imp}$（$\text{2020.10.26}$，自己做出）"></a>#$247$：$\text{The Imp}$（$\text{2020.10.26}$，自己做出）</h3><h4 id="题目大意：-43"><a href="#题目大意：-43" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $n$ 个物品，第 $i$ 个物品价值为 $v_i$，价格为 $c_i$，但是你每买下一个物品，小鬼都有可能把它变成价值为 $0$ 的灰尘，不过最多 $k$ 个商品会被变成灰尘，如果你买到一个物品且没有变成灰尘，那么你必须带着它离开。</p>
<p>求出你和小鬼都最优决策的情况下，你能赚到多少钱（赚到的钱数即得到的物品的价值减去买过的所有物品的价格之和）。</p>
<p>$n\leq 1.5\times 10^5,  k\leq 9$。</p>
<hr>
<h4 id="题解：-43"><a href="#题解：-43" class="headerlink" title="题解："></a>题解：</h4><p>贪心，可以证明存在一种最优决策，买的顺序是按价值从小到大的，这是因为如果前后两个买的物品前一个价值更大，那么交换一下不会更劣。</p>
<p>接下来直接做不好设计状态，所以考虑二分答案 $m$，这样限制就变成了：任意前 $i$ 个买的物品价格和加上 $m$ 不能大于第 $i$ 个物品的价值。</p>
<p>于是和状态有关的变量就只有：考虑前多少个物品，选了多少个物品，满足条件下的总价格和，于是令 $dp(i,j)$ 表示从前 $i$ 个物品中选 $j$ 个，满足二分条件的情况下价格和最小是多少。</p>
<p>那么 $dp(i,j)\to dp(i+1,j)$，并且在满足 $dp(i,j)+c_{i+1}+m\leq v_{i+1}$ 时有 $dp(i,j)+c_{i+1}\to dp(i+1,j+1)$，最后检验是否 $dp(n,k)$ 不是初始的无穷大即可。</p>
<p>时间复杂度为 $O(nk\log (\sum v_i))$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="233-：-text-Rubik’s-Rectangle-（-text-2020-10-26-，自己做出）"><a href="#233-：-text-Rubik’s-Rectangle-（-text-2020-10-26-，自己做出）" class="headerlink" title="#$233$：$\text{Rubik’s Rectangle}$（$\text{2020.10.26}$，自己做出）"></a>#$233$：$\text{Rubik’s Rectangle}$（$\text{2020.10.26}$，自己做出）</h3><h4 id="题目大意：-44"><a href="#题目大意：-44" class="headerlink" title="题目大意："></a>题目大意：</h4><p>一个 $n\times m$ 的矩阵，其中 $1$ 到 $n\times m$ 中所有数都恰好出现一次，每次操作可以翻转一行或一列的数的顺序，需要把最终矩阵通过不超过 $10nm$ 操作变成按照先行后列排好序的状态，或报告无解。</p>
<p>$n,m\leq 100$。</p>
<hr>
<h4 id="题解：-44"><a href="#题解：-44" class="headerlink" title="题解："></a>题解：</h4><p>这题似乎对玩过魔方的人比较友好。</p>
<p>一个显然的观察是：一个数字只能出现在最多四个位置上（因为行列只有最多两种情况），所以我们看一下所有这样四个位置上的数和最后四个数一不一样，如果有不一样那么直接无解。</p>
<p>接下来考虑一种情形：第一行和最后一行，第一列和最后一列都已经拼好，现在要拼中间区域，对于中间区域中某四个中心对称的格子来说，在复原它们的相对位置时就不能改变任何其他行列的状态（可以进行两行和两列的操作，并且每行每列都要操作偶数次）。</p>
<p>画几张图理解一下，发现我们能做的基本操作类型是 $ABAB$，其中 $A,B$ 分别是一行和一列，这个操作的效果其实是对四块中的三块做了一个三轮换。</p>
<p>（如果对魔方比较熟悉就会很快发现这个结论，因为这个结构其实就是调顶棱位置时候的操作）</p>
<p>但是这里没有很严格的什么次数限制，所以我们先把左上角那个数通过若干次操作归位，再看看剩下三个数能不能转一次归位。</p>
<p>而对于第一行和最后一行，第一列和最后一列的数，我们还可以加上对一列或一行的操作，此时一定可以归位。</p>
<p>时间复杂度为 $O(nm)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="287-：-text-Subway-（-text-2020-10-26-，自己做出）"><a href="#287-：-text-Subway-（-text-2020-10-26-，自己做出）" class="headerlink" title="#$287$：$\text{Subway}$（$\text{2020.10.26}$，自己做出）"></a>#$287$：$\text{Subway}$（$\text{2020.10.26}$，自己做出）</h3><h4 id="题目大意：-45"><a href="#题目大意：-45" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $n$ 个站点和连接它们的 $m$ 条线路（若干条边组成的链），线路总长为 $L$，问从一个站 $A$ 到另一个站 $B$ 至少需要坐上几条不同的线，以及在此情况下最多可以坐几站路（一条线不能正反都坐）。</p>
<p>$n\leq 3\times 10^5,  m\leq 10^5,  L\leq 10^6$。</p>
<hr>
<h4 id="题解：-45"><a href="#题解：-45" class="headerlink" title="题解："></a>题解：</h4><p>对于每个站点建一个顶点，再对于每条线路拆成正反两条，分别对于线路上每一个站点新建一个顶点，并且按照线路顺序连接（边权为 $0$），线路上每个顶点再和对应站点一开始建的那个点互相连边，令走过去的权值为 $0$，走回来的权值为 $1$。</p>
<p>那么第一问的答案就是两个点之间的最短路。</p>
<p>第二问是最长路，不能直接做，不过我们只要提取第一问源点出发的最短路 DAG，在这个 DAG 上拓扑排序求最长路即可。</p>
<p>时间复杂度为 $O(L\log L)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="138-：-text-Distribution-in-Metagonia-（-text-2020-10-26-，自己做出）"><a href="#138-：-text-Distribution-in-Metagonia-（-text-2020-10-26-，自己做出）" class="headerlink" title="#$138$：$\text{Distribution in Metagonia}$（$\text{2020.10.26}$，自己做出）"></a>#$138$：$\text{Distribution in Metagonia}$（$\text{2020.10.26}$，自己做出）</h3><h4 id="题目大意：-46"><a href="#题目大意：-46" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$，拆成若干个互不为倍数关系的 $2^i3^j$ 之和。</p>
<p>一个测试点有 $T$ 组数据。</p>
<p>$n\leq 10^18,  T\leq 1000$。</p>
<hr>
<h4 id="题解：-46"><a href="#题解：-46" class="headerlink" title="题解："></a>题解：</h4><p>设求解过程为 $Solve(n)$。</p>
<p>首先，如果 $2\mid n$ 或 $3\mid n$，直接把这个 $2$ 或 $3$ 提出，接着 $Solve(n/2)$ 或 $Solve(n/3)$。</p>
<p>如果 $2,3$ 都不是 $n$ 的因数，那么显然 $n$ 的分拆中一定又会有 $2^p$，又会有 $3^q$，根据直觉和题面没有写无解判定的情况来看，应该是不可能无解的，所以我们只要找到一个 $2^p$，使得 $3\mid (n-2^p)$，这样剩余的数里都会有 $3$，即 $2^p$ 不是它们的倍数，在此基础上我们令 $p$ 最大，也能满足 $2^p$ 不是其他 $2^i3^j$ 的倍数。</p>
<p>因为 $3$ 不是 $n$ 的因数，所以 $n\equiv 1\bmod 3$ 或 $n\equiv 2\bmod 3$，设 $p_0=\lfloor\log n\rfloor$，那么 $2^{p_0}\equiv n$ 或 $2^{p_0-1}\equiv n$ 必有一个成立。</p>
<p>时间复杂度为 $O(T\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="194-：-text-Export-Estimate-（-text-2020-10-27-，自己做出）"><a href="#194-：-text-Export-Estimate-（-text-2020-10-27-，自己做出）" class="headerlink" title="#$194$：$\text{Export Estimate}$（$\text{2020.10.27}$，自己做出）"></a>#$194$：$\text{Export Estimate}$（$\text{2020.10.27}$，自己做出）</h3><h4 id="题目大意：-47"><a href="#题目大意：-47" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点 $m$ 条边的带权无向图，$q$ 次询问，每次给定 $k$，询问只保留边权不小于 $k$ 的边时按照下列原则缩点后剩余图的点数和边数：</p>
<ul>
<li><p>从 $1$ 到 $n$ 枚举 $i$；</p>
</li>
<li><p>如果 $i$ 当前的度数恰好为 $2$ 并且不存在到自己的自环，那么删除它和这两条边，并在这两条边的另外两个端点之间连边。</p>
</li>
</ul>
<p>$n,m,q\leq 3\times 10^5$。</p>
<hr>
<h4 id="题解：-47"><a href="#题解：-47" class="headerlink" title="题解："></a>题解：</h4><p>从大到小加边，就变成了动态维护当前图缩点后的点数和边数。</p>
<p>只看二度点，那么二度点构成的连通块只有链或者环，如果是链的话那么最后会全缩掉，如果是环的话最后会剩一个点。</p>
<p>用并查集维护连通性，对于每个连通块维护其中是否存在度数超过 $2$ 的点，如果不存在则再维护一下这个连通块是不是环。</p>
<p>如果连一条边后变成了环，那么会少缩掉一个点两条边，如果连一条边后本来是环变成了存在三度点，那么破环成链。</p>
<p>在这过程中顺便维护点数和边数的变化情况，具体细节由于我也忘了所以就不写了。</p>
<p>时间复杂度为 $O(n\log n)$，这里把 $n,m,q$ 都当成一个量级了。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="230-：-text-Metal-Processing-Plant-（-text-2020-10-27-，自己做出）"><a href="#230-：-text-Metal-Processing-Plant-（-text-2020-10-27-，自己做出）" class="headerlink" title="#$230$：$\text{Metal Processing Plant}$（$\text{2020.10.27}$，自己做出）"></a>#$230$：$\text{Metal Processing Plant}$（$\text{2020.10.27}$，自己做出）</h3><h4 id="题目大意：-48"><a href="#题目大意：-48" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有 $n$ 个点，给出任意两点之间距离（不一定满足三角形不等式），将它们分成两个点集 $A,B$，使得两者内部最远点对距离之和最小。</p>
<p>$n\leq 200$。</p>
<hr>
<h4 id="题解：-48"><a href="#题解：-48" class="headerlink" title="题解："></a>题解：</h4><p>将所有距离从大到小排序为 $d_1,\ldots,d_{\frac{n(n-1)}{2}}$，枚举两个最远距离中较大的那个 $d_i$（不妨设为 $A$ 中的最远距离），那么 $d_1,\ldots,d_{i-1}$ 这些边的两个端点必须分别在两边，在它们之间连边，如果不是二分图那么说明无解，否则每个二分图连通块的两部必须分属两个集合。</p>
<p>接下来考虑另一个最远距离（$B$ 中的最远距离）最小是多少，考虑二分答案 $d_j$，那么 $d_{i+1},\ldots,d_{j-1}$ 这些距离不能同时属于 $B$，这时不是二分图关系，而是 2-SAT 判定，我们将前面说的那个二分图的每个连通块的两部看出两个点，根据二分答案得到的这些关系建出 2-SAT 图判定是否有解，即可判定二分的答案是否可行。</p>
<p>由于只有二分图某个连通块的两部变化时二分答案那一部分的情况才会变化，所以只有二分图发生改变时才重新进行二分答案，而二分图改变最多 $n-1$ 次，所以第二个过程最多只会做 $n$ 次。</p>
<p>时间复杂度为 $O(n^3\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="191-：-text-Frightful-Formula-（-text-2020-10-28-，自己做出）"><a href="#191-：-text-Frightful-Formula-（-text-2020-10-28-，自己做出）" class="headerlink" title="#$191$：$\text{Frightful Formula}$（$\text{2020.10.28}$，自己做出）"></a>#$191$：$\text{Frightful Formula}$（$\text{2020.10.28}$，自己做出）</h3><h4 id="题目大意：-49"><a href="#题目大意：-49" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个 $n\times n$ 矩阵 $F_{n\times n}$，给定第一行和第一列的数，其余某个位置 $(i,j)$ 上的数 $F_{i,j}=aF_{i-1,j}+bF_{i,j-1}+c$，求 $F_{n,n}$ 的值，对 $10^6+3$ 取模。</p>
<p>$n\leq 2\times 10^5$。</p>
<hr>
<h4 id="题解：-49"><a href="#题解：-49" class="headerlink" title="题解："></a>题解：</h4><p>一开始遇到一个式子不太会算到 E 群问了一下，结果被讲了一些听不懂的东西，最后我这个做法似乎是一个不太本质的做法……</p>
<p>可以发现整个式子里面 $c$ 的贡献和另外两个东西的贡献可以拆开，另外两个东西很好算，枚举从第一行或第一列中哪个位置转移，乘上一个类似 $\binom {i+j}{i} a^ib^j$ 的式子就可以了。</p>
<p>而 $c$ 是不太好算的，我是手算了一个 $5\times 5$ 的表格，令 $C_{i,j}$ 表示从 $(0,0)$ 走到 $(i,j)$ 时的 $c$ 前的系数，转移是 $C_{i,j}=aC_{i-1,j}+bC_{i,j-1}+1$，然后发现似乎 $C_{i,j}=C_{i-1,j}+C_{i,j-1}-C_{i-1,j-1}+\binom {i+j}{i} a^ib^j$，尝试用组合意义来解释，最后那个 $\binom {i+j}{i} a^ib^j$ 就是从 $(0,0)$ 一直按照 $a,b$ 的规则走到 $(i,j)$，然后再变成 $c$ 的贡献，而前面那个其实是一个前缀和的形式（这一段凭印象写的，如果错了请指出）。</p>
<p>所以 $c$ 的系数就是 $\sum\limits_{i=0}^{n-2}\sum\limits_{j=0}^{n-2} \binom {i+j}{i} a^ib^j$。</p>
<p>设 $Sum_i=\sum\limits_{j=0}^{n-2} \binom {i+j}{j} b^j$，根据组合恒等式列出 $Sum_i$ 和 $Sum_{i-1}$ 间的方程，可以解得：</p>
<script type="math/tex; mode=display">Sum_i=\dfrac{\binom {i+n-2}{n-2} b^{n-1}-Sum_{i-1}}{b-1}</script><p>如果 $a\ne 1$ 或者 $b\ne 1$ 都可以按照这个递推，如果 $a=b=1$ 那么上面这个式子是经典恒等式，值为 $\sum\limits_{i=1}^{n-1} \binom {n-1} i ^2$。</p>
<p>时间复杂度为 $O(n\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="261-：-text-First-of-Her-Name-（-text-2020-10-28-，自己做出）"><a href="#261-：-text-First-of-Her-Name-（-text-2020-10-28-，自己做出）" class="headerlink" title="#$261$：$\text{First of Her Name}$（$\text{2020.10.28}$，自己做出）"></a>#$261$：$\text{First of Her Name}$（$\text{2020.10.28}$，自己做出）</h3><h4 id="题目大意：-50"><a href="#题目大意：-50" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点的字典树，字符集为 $\Sigma$，有 $q$ 次询问，每次询问有几个结点代表的串（从根结点走到这个点的串）以 $T$ 为后缀（按照原题意是以 $T$ 翻转过来为后缀）。</p>
<p>$n\leq 2\times 10^6,  \sum |T|\leq 2\times 10^6,  |\Sigma|=26$。</p>
<hr>
<h4 id="题解：-50"><a href="#题解：-50" class="headerlink" title="题解："></a>题解：</h4><p>是个爱怎么做就怎么做的字符串题。</p>
<p>首先尝试树上 SA，将询问串放在一起或者询问时二分，然后被 cyj 大毒瘤卡常了。</p>
<p>然后尝试广义 SAM，顺着 $T$ 走到对应点数一下大小，就过了。</p>
<p>时间复杂度为 $O(n+\sum |T|)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="110-：-text-Heavy-Chain-Clusterization-（-text-2020-11-01-，自己做出）"><a href="#110-：-text-Heavy-Chain-Clusterization-（-text-2020-11-01-，自己做出）" class="headerlink" title="#$110$：$\text{Heavy Chain Clusterization}$（$\text{2020.11.01}$，自己做出）"></a>#$110$：$\text{Heavy Chain Clusterization}$（$\text{2020.11.01}$，自己做出）</h3><h4 id="题目大意：-51"><a href="#题目大意：-51" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个字符串 $S_1,\ldots S_n$，将它们分成最少的组，使得同一个组内长度为 $k$ 的前缀都相同或长度为 $k$ 的后缀都相同。</p>
<p>$n\leq 5000,  k\leq |S_i|\leq 550$。</p>
<hr>
<h4 id="题解：-51"><a href="#题解：-51" class="headerlink" title="题解："></a>题解：</h4><p>将每个串的长度为 $k$ 的前后缀分别哈希，离散化后在前后缀之间连边，答案就是最小点覆盖，也就是最大匹配，跑一次 dinic 就求出来了。</p>
<p>时间复杂度为 $O(\sum |S_i|+n\sqrt n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="243-：-text-Kingdom-Trip-（-text-2020-11-01-，自己做出）"><a href="#243-：-text-Kingdom-Trip-（-text-2020-11-01-，自己做出）" class="headerlink" title="#$243$：$\text{Kingdom Trip}$（$\text{2020.11.01}$，自己做出）"></a>#$243$：$\text{Kingdom Trip}$（$\text{2020.11.01}$，自己做出）</h3><h4 id="题目大意：-52"><a href="#题目大意：-52" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定二维平面中 $n$ 个点 $p_1,\ldots,p_n$，选择其中一个子序列，使得对于不属于这个子序列的每个 $p_i$，它到它在子序列中的前驱后继连线段的距离不超过 $d$，求子序列至少包含几个点。</p>
<p>$n\leq 2000$。</p>
<hr>
<h4 id="题解：-52"><a href="#题解：-52" class="headerlink" title="题解："></a>题解：</h4><p>只要求出所有 $trans(i,j)$ 表示是否 $\forall k\in [i+1,j-1]$ 都到 $p_ip_j$ 距离小于 $d$，这个求完之后再 $n^2$ DP 一下就行了。</p>
<p>枚举 $i$，从前到后扫描 $k$，如果 $|p_ip_k|\leq d$ 那么没有限制，否则 $k$ 就对 $p_ip_j$ 的角度有一个区间范围的限制，维护前面所有这些区间的交，看看 $p_j$ 相对 $p_i$ 是不是落在这个区间里，就完成了判定。</p>
<p>时间复杂度为 $O(n^2)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="111-：-text-Hidden-Supervisors-（-text-2020-11-01-，自己做出）"><a href="#111-：-text-Hidden-Supervisors-（-text-2020-11-01-，自己做出）" class="headerlink" title="#$111$：$\text{Hidden Supervisors}$（$\text{2020.11.01}$，自己做出）"></a>#$111$：$\text{Hidden Supervisors}$（$\text{2020.11.01}$，自己做出）</h3><h4 id="题目大意：-53"><a href="#题目大意：-53" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个 $n$ 个点的以 $1$ 为根的有根树，某些点的父结点未定，确定这些点的父结点使得整个树的最大匹配数最大。</p>
<p>$n\leq 10^5$。</p>
<hr>
<h4 id="题解：-53"><a href="#题解：-53" class="headerlink" title="题解："></a>题解：</h4><p>先求出每个连通块的最大匹配（为了记录每个点在不在最大匹配中，最好采用贪心法求最大匹配），再记录一下这个连通块的最大匹配是否一定包含根结点。</p>
<p>如果一个连通块的最大匹配包含根结点，那么直接把这个根结点连到 $1$ 的下面（因为接到其他点下面也不能匹配，没有用），然后用一个队列维护当前与 $1$ 连通的点中没有匹配的点的数量，再用一个优先队列维护不与 $1$ 连通的连通块中未匹配点数最多的那个。</p>
<p>每次取出优先队列中的队首，将根结点挂在与 $1$ 连通的一个没有匹配的点下面（这样形成了一组匹配），如果不存在这样的点那么只好随便找一个点连（比如直接当成 $1$ 的儿子），因为我们是按照未匹配点数从大到小加的，所以尽量保证了当前能够存在一个没匹配的点，所以这个贪心是最优的。</p>
<p>时间复杂度为 $O(n\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="125-：-text-Baggage-（-text-2020-11-01-，自己做出）"><a href="#125-：-text-Baggage-（-text-2020-11-01-，自己做出）" class="headerlink" title="#$125$：$\text{Baggage}$（$\text{2020.11.01}$，自己做出）"></a>#$125$：$\text{Baggage}$（$\text{2020.11.01}$，自己做出）</h3><h4 id="题目大意：-54"><a href="#题目大意：-54" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个长为 $2\times n$ 的序列，形如 $\text{BABA…BA}$，每次操作可以选择连续两个字符（不能选到空位），放到另一处连续的两个空位中（第一个位置前面都是空位），然后这两个字符原来的位置会变成空位。</p>
<p>你需要用最少的操作次数使得序列变成 $\text{AA…AABB…BB}$，起始位置任意但必须连续。</p>
<p>$n\leq 100$。</p>
<hr>
<h4 id="题解：-54"><a href="#题解：-54" class="headerlink" title="题解："></a>题解：</h4><p>构造题，没有什么技巧和算法可言。</p>
<p>首先有端猜测答案就是 $n$。</p>
<p>题目里送了两组样例，一个是 $5$，一个是 $8$，以此为基础推一下 $n=9$ 和 $n=12$，那么模 $4$ 余 $1$ 或 $0$ 的就基本解决了。</p>
<p>模 $4$ 余 $3$ 的可以手玩一下 $n=3$（需要用到 $-3$ 这个位置，脑洞有点大），然后尝试推一下 $n=7$，基本就出来了。</p>
<p>模 $4$ 余 $2$ 的手玩 $n=6$，不过我脑子不太好，看了下 CF 里的数据才知道怎么搞。</p>
<p>具体每一类的做法不太好说清楚，就不讲了。</p>
<p>时间复杂度为 $O(n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="201-：-text-Cumulative-Code-（-text-2020-11-01-，以前见过）"><a href="#201-：-text-Cumulative-Code-（-text-2020-11-01-，以前见过）" class="headerlink" title="#$201$：$\text{Cumulative Code}$（$\text{2020.11.01}$，以前见过）"></a>#$201$：$\text{Cumulative Code}$（$\text{2020.11.01}$，以前见过）</h3><h4 id="题目大意：-55"><a href="#题目大意：-55" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个 $k$ 层的满二叉树，结点从上到下从左到右编号，有 $q$ 个询问，每次给定 $a,d,m$，求出二叉树的 Prufer 序列 $p_1,\ldots,p_{2^k-3}$ 中的以下元素和：$\sum\limits_{i=1}^m p_{a+(i-1)d}$。</p>
<p>$k\leq 30,  q\leq 300$。</p>
<hr>
<h4 id="题解：-55"><a href="#题解：-55" class="headerlink" title="题解："></a>题解：</h4><p>类似根号分治的一种分块思路，将树分成上 $15$ 层和下面的部分，询问时暴搜上 $15$ 层，下面的部分通过预处理解决。</p>
<p>具体来说，递归问题分成两个种类，分别是根结点有父亲的子树和根结点无父亲的子树，前者 Prufer 序列的删点顺序是左右中，后者是左中右，在前 $15$ 层暴力模拟和递归即可。</p>
<p>当层数超过 $15$ 时做一些预处理，我们提前处理好设根结点编号为 $a$ 时深度为 $k-15$ 的子树的 Prufer 序列（其中的值都是 $a$ 的线性函数），并在每个询问时预处理公差为 $d$ 的前缀部分和，递归时将根结点的 $a$ 带入就可以算出这个子树里的和。</p>
<p>时间复杂度为 $O(q2^{\frac{k}{2}})$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="217-：-text-Easy-Reading-（-text-2020-11-01-，自己做出）"><a href="#217-：-text-Easy-Reading-（-text-2020-11-01-，自己做出）" class="headerlink" title="#$217$：$\text{Easy Reading}$（$\text{2020.11.01}$，自己做出）"></a>#$217$：$\text{Easy Reading}$（$\text{2020.11.01}$，自己做出）</h3><h4 id="题目大意：-56"><a href="#题目大意：-56" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定长度为 $l$ 的字符串 $S$ 和一个 $n\times m$ 矩阵，矩阵中每个格子有黑有白，求出一个 $S$ 的子串使得根据它可以画出矩阵或报告无解，画的规则如下：</p>
<ol>
<li><p>首先画笔落在任意一个格子上</p>
</li>
<li><p>然后从左到右遍历这个子串，遇到 $u,d,l,r$ 时画笔就向上/下/左/右移动一格。</p>
</li>
<li><p>画笔经过的位置都是黑的，其他位置都是白的。</p>
</li>
</ol>
<p>$l\leq 10^5,  n\times m\leq 10^5$。</p>
<hr>
<h4 id="题解：-56"><a href="#题解：-56" class="headerlink" title="题解："></a>题解：</h4><p>首先把 $S$ 中所有的 $u,d,l,r$ 提取出来，对矩阵进行二维哈希，这个哈希要支持平移，所以只要确定两个数 $x,y$，令黑色格子 $(i,j)$ 的哈希值为 $x^iy^j\bmod P$ 就可以了。</p>
<p>接下来进行双指针，维护一个画出来恰好格子数和矩阵中格子数一样的区间，动态维护 hash 值（可以用一个 multiset 来维护横纵坐标最小值实现在判定时支持平移，再用一个 map 维护每个位置上画了几次，如果减到 $0$ 次就会变成白色）。</p>
<p>时间复杂度为 $O(l\log l+n\times m)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="218-：-text-Lunar-Landscape-（-text-2020-11-01-，自己做出）"><a href="#218-：-text-Lunar-Landscape-（-text-2020-11-01-，自己做出）" class="headerlink" title="#$218$：$\text{Lunar Landscape}$（$\text{2020.11.01}$，自己做出）"></a>#$218$：$\text{Lunar Landscape}$（$\text{2020.11.01}$，自己做出）</h3><h4 id="题目大意：-57"><a href="#题目大意：-57" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定二维平面上 $n$ 个边平行于坐标轴或对角线平行于坐标轴的整点正方形，坐标范围在 $[-1500,1500]$，求面积并。</p>
<p>$n\leq 2\times 10^5$。</p>
<hr>
<h4 id="题解：-57"><a href="#题解：-57" class="headerlink" title="题解："></a>题解：</h4><p>先处理边平行坐标轴的正方形，二维差分最后前缀和回来就可以了。</p>
<p>对角线平行坐标轴的正方形是一样的，另一个角度的二维差分。</p>
<p>最后每个格子可以统计出四个结果，分别是左上角左下角右上角右下角有没有被覆盖，如果有超过 $2$ 个角被覆盖那么就是完全覆盖，如果有 $2$ 个角被覆盖且不是对角，那么就是被覆盖了 $0.75$ 个格子，如果只有一个角被覆盖，那就就是被覆盖了 $0.5$ 个格子。</p>
<p>时间复杂度为 $O(n+X^2)$，其中 $X=3000$ 是坐标范围。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="101-：-text-Correcting-Curiosity-（-text-2020-11-06-，自己做出）"><a href="#101-：-text-Correcting-Curiosity-（-text-2020-11-06-，自己做出）" class="headerlink" title="#$101$：$\text{Correcting Curiosity}$（$\text{2020.11.06}$，自己做出）"></a>#$101$：$\text{Correcting Curiosity}$（$\text{2020.11.06}$，自己做出）</h3><h4 id="题目大意：-58"><a href="#题目大意：-58" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定两个字符串 $S,T$，求出一个替换命令 $a\to b$，其中 $a,b$ 是字符串，使得从左到右寻找 $S$ 中 $a$ 作为子串的若干次不相交的出现，每一次分别替换成 $b$，最后能得到 $T$，求出 $|a|+|b|$ 最小的一组 $(a,b)$。</p>
<p>$|S|,|T|\leq 2000$。</p>
<hr>
<h4 id="题解：-58"><a href="#题解：-58" class="headerlink" title="题解："></a>题解：</h4><p>对 $S$ 的每个子串哈希，离散化后用 vector 存储每个哈希值的子串按照题目所述规则从左到右的每一次需要替换的位置。</p>
<p>然后枚举 $S$ 的子串 $a$，根据 $|T|-|S|=size\times \Delta len$，其中 $size$ 是替换发生的次数，$\Delta len$ 表示 $|b|-|a|$，可以算出 $\Delta len$，也就是可以算出对应的 $b$，根据 $a,b$ 将 $S,T$ 分成几段，分别用哈希值检验每一段是不是都相等，同时如果每一次发生替换时 $a$ 对应的 $T$ 中的串也相等（都是 $b$），就说明 $(a,b)$ 是一组可行解。</p>
<p>时间复杂度为 $O(|S|^2)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="167-：-text-Interactive-Sort-（-text-2020-11-10-）"><a href="#167-：-text-Interactive-Sort-（-text-2020-11-10-）" class="headerlink" title="#$167$：$\text{Interactive Sort}$（$\text{2020.11.10}$）"></a>#$167$：$\text{Interactive Sort}$（$\text{2020.11.10}$）</h3><h4 id="题目大意：-59"><a href="#题目大意：-59" class="headerlink" title="题目大意："></a>题目大意：</h4><p>将 $1,\ldots,n$ 中的奇数和偶数分成两组并打乱顺序，得到 $o,e$ 两数组，每次交互可以询问 $o_i$ 和 $e_j$ 的大小关系，你需要用不超过 $3\times 10^5$ 个问题求出 $o,e$ 两数组，数据随机生成。</p>
<p>$n\leq 10^4$。</p>
<hr>
<h4 id="题解：-59"><a href="#题解：-59" class="headerlink" title="题解："></a>题解：</h4><p>首先用 $e_1$ 和每一个 $o_i$ 问一次，可以把 $o_i$ 分出两份并求出 $e_1$，然后再是 $e_2$，两个数问完相当于把 $o_i$ 分成三份，依此类推。</p>
<p>问每一个 $e_i$ 时，首先在当前分出的每一段 $o_i$ 中二分找到它可能输入哪一段（或两段），然后将这一段或两段中的 $o_i$ 都问一遍，就可以找到确切位置并多分一份 $o_i$ 出来了。</p>
<p>在随机数据情况下，询问 $O(n\log n)$ 次。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="109-：-text-Knapsack-Cryptosystem-（-text-2020-11-11-）"><a href="#109-：-text-Knapsack-Cryptosystem-（-text-2020-11-11-）" class="headerlink" title="#$109$：$\text{Knapsack Cryptosystem}$（$\text{2020.11.11}$）"></a>#$109$：$\text{Knapsack Cryptosystem}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-60"><a href="#题目大意：-60" class="headerlink" title="题目大意："></a>题目大意：</h4><p>有一个未知数组 $a_{1\ldots n}$，满足 $\sum\limits_{i=1}^{k-1} a_i&lt; a_k$，且 $\sum\limits_{i=1}^n a_i&lt; q=2^64$，并有一个奇数 $r$，令 $b_i=r\times a_i$，对于一个 $n$ 位 $0,1$ 串 $S$，定义其加密结果为 $\sum\limits_{S_i=1} b_i \bmod q$，请你对给定的加密结果解密。</p>
<p>$n\leq 64$。</p>
<hr>
<h4 id="题解：-60"><a href="#题解：-60" class="headerlink" title="题解："></a>题解：</h4><p>看上去是 Not P 的，考虑进行数据分治，复杂度有机会摊成 $O(2^{\frac{n}{3}})$。</p>
<ol>
<li><p>$n\leq 42$，直接折半搜索，复杂度 $O(2^{\frac{n}{2}})$。</p>
</li>
<li><p>$42<n\leq 64$，考虑到 $q>\sum\limits_{i=1}^n a_i&gt;2^{n-1}\times a_1$，所以其实 $a_1\leq 2^{64-n}$，那么我们可以考虑枚举 $a_1$，当 $a_1$ 确定时我们可以再考虑确定 $r$，根据 $a_1$ 和 $b_1$ 我们可以确定 $r$ 的某些位（准确地来说，是去掉 $a_1,b_1$ 的公共后缀 $0$ 后剩余的位数），剩下 $r$ 中未确定的位再暴力枚举就可以了，因为这个未确定位数就等于 $a_1$ 后缀 $0$ 的个数，求和后不影响 $O(2^{64-n})$ 的复杂度。</p>
</li>
</ol>
<p>二者综合，可以得到一个复杂度不高于 $O(2^{\frac{n}{3}})$ 的做法。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="226-：-text-Maze-Reduction-（-text-2020-11-11-）"><a href="#226-：-text-Maze-Reduction-（-text-2020-11-11-）" class="headerlink" title="#$226$：$\text{Maze Reduction}$（$\text{2020.11.11}$）"></a>#$226$：$\text{Maze Reduction}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-61"><a href="#题目大意：-61" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个结点的无向图，每个点的所有相关边形成一个有向环（即可以区分正逆和距离），如果从两个不同的结点出发，无论如何行动都无法辨别出自己从哪里出发，则称它们等效相同，按此标准求出所有等价类。</p>
<p>$n\leq 100$。</p>
<hr>
<h4 id="题解：-61"><a href="#题解：-61" class="headerlink" title="题解："></a>题解：</h4><p>数据比较厉害，为了搞掉一些卡常毒瘤数据，所以我先特判了一下，如果所有点度数相同，直接返回所有点都等价。</p>
<p>可以设计一种简单的 DP，假想我们可能在两个不同的房间，并且上一步分别从某个房间走来，那么需要知道的信息还有：上一步分别是从各自的顺时针第几个边走进来的，初步可以想到 $dp(i,j,k,l)$ 表示分别在 $i,k$，分别是从第 $j,l$ 条边走进来，能否分辨。但是考虑到 $dp(i,j,k,l)$ 和 $dp(i,j+x,k,l+x)$ 其实等价，所以可以省掉一维，只用 $dp(i,j,k)$，而令 $l=1$。</p>
<p>但是这样不太好转移，我们不妨加一个步数的限制，即 $dp(i,j,k,x)$ 表示在上述的 $(i,j,k)$ 状态下，走 $x$ 步以内能否分辨，这样我们便能从 $x-1$ 的状态转移过来了。</p>
<p>这里的 $x$ 上限我设成了 $50$，基本应该是没有问题的。</p>
<p>时间复杂度为 $O(nm^2\times X)$，其中 $m$ 是边数，$X=50$ 是步数上限，这种写法非常卡。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="106-：-text-Binary-vs-Decimal-（-text-2020-11-11-）"><a href="#106-：-text-Binary-vs-Decimal-（-text-2020-11-11-）" class="headerlink" title="#$106$：$\text{Binary vs Decimal}$（$\text{2020.11.11}$）"></a>#$106$：$\text{Binary vs Decimal}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-62"><a href="#题目大意：-62" class="headerlink" title="题目大意："></a>题目大意：</h4><p>求出第 $n$ 小的满足其十进制表示是其二进制表示的后缀的数。</p>
<p>$n\leq 10^4$。</p>
<hr>
<h4 id="题解：-62"><a href="#题解：-62" class="headerlink" title="题解："></a>题解：</h4><p>写个高精度，然后搞个 $\text{priority_queue}$ 暴搜即可，每次取出一个满足条件的数就在前面加 $0$ 加 $1$ 都试试，可以发现答案不会超过 $200$ 位。</p>
<p>时间复杂度不明。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="159-：-text-Mole-Tunnels-（-text-2020-11-11-）"><a href="#159-：-text-Mole-Tunnels-（-text-2020-11-11-）" class="headerlink" title="#$159$：$\text{Mole Tunnels}$（$\text{2020.11.11}$）"></a>#$159$：$\text{Mole Tunnels}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-63"><a href="#题目大意：-63" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个点的完全二叉树，每个点有最多能容纳鼹鼠的上限，现在依次来了 $m$ 只鼹鼠，每个鼹鼠有个初始位置，对于每个 $i\leq m$ 求出：给前 $i$ 个鼹鼠分别安排到一个点，不超过每个点容纳上限时，所有鼹鼠移动距离和的最小值。</p>
<p>$n,m\leq 10^5$。</p>
<hr>
<h4 id="题解：-63"><a href="#题解：-63" class="headerlink" title="题解："></a>题解：</h4><p>用模拟费用流来考虑，然后可以用可回退贪心来解决。</p>
<p>每次给新来的鼹鼠找一个最近的可以容纳的点然后塞进去，随后将这条路径上边权取反即可。</p>
<p>可以用一个类似 DP 数组一样的东西维护每个点子树内最近的可以容纳鼹鼠的点，由于是完全二叉树，所以询问可以暴力跳祖先。</p>
<p>时间复杂度为 $O(m\log n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="251-：-text-Can’t-stop-playing-（-text-2020-11-11-）"><a href="#251-：-text-Can’t-stop-playing-（-text-2020-11-11-）" class="headerlink" title="#$251$：$\text{Can’t stop playing}$（$\text{2020.11.11}$）"></a>#$251$：$\text{Can’t stop playing}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-64"><a href="#题目大意：-64" class="headerlink" title="题目大意："></a>题目大意：</h4><p>依次给定 $n$ 个长度为 $2$ 的非负整数幂次的方块，你可以依次选择将它们放在当前序列的最左边或最右边，每当两个相邻方块长度相同时就会合成一个长度是两倍的大方块，求是否可以使得最终结果合成一块。</p>
<p>$nL\leq 5\times 10^8$，其中 $L$ 是方块总长，不超过 $2^13$。</p>
<hr>
<h4 id="题解：-64"><a href="#题解：-64" class="headerlink" title="题解："></a>题解：</h4><p>如果想要最后合成一块，那么任何时候游戏序列必须是单峰的（否则位于谷中的方块永远无法和两边合并），所以抓过状态数不过 $2^{26}$ 种，然后我们又发现合成操作不影响长度总和，所以假设前 $i$ 个方块长度和为 $S_i$，那么我们只需要记录当前序列前面递增那一部分的长度和 $S$，用 $S_i-S$ 就得到了后面那部分递减的长度和，因此状态数又降到了 $2^{13}$。</p>
<p>然后分几类转移即可，特别注意递增部分或递减部分为空的情况，同时如果 $S_n$ 不是 $2$ 的幂次那么答案显然是否。</p>
<p>时间复杂度为 $O(nL)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="169-：-text-Virus-synthesis-（-text-2020-11-11-）"><a href="#169-：-text-Virus-synthesis-（-text-2020-11-11-）" class="headerlink" title="#$169$：$\text{Virus synthesis}$（$\text{2020.11.11}$）"></a>#$169$：$\text{Virus synthesis}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-65"><a href="#题目大意：-65" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定由 $\texttt{A,C,G,T}$ 构成的长度为 $n$ 的字符串，问最少用几步可以由空串构造出来，每一步可以：</p>
<ol>
<li><p>在开头或末尾加一个字符；</p>
</li>
<li><p>将当前串翻转并接在当前串的前面或后面。</p>
</li>
</ol>
<p>$n\leq 3\times 10^7$。</p>
<hr>
<h4 id="题解：-65"><a href="#题解：-65" class="headerlink" title="题解："></a>题解：</h4><p>考虑最后一次翻转，形成的一定是一个回文串，所以我们不妨对字符串的所有本质不同回文串进行 DP。</p>
<p>在 PAM 上，设回文串 $S$ 的最长回文真后缀为 $S_1$，最长的长度不超过一半的回文串为 $S_2$，那么 $S$ 要么由 $S_1$ 加字符得到，要么由 $S_2$ 加字符并翻转拼接得到，而求这两个东西是 PAM 标配，所以可以直接 DP 出结果。</p>
<p>枚举一下最后一次翻转形成的回文串并看一下后面还要几次操作，就可以得到答案。</p>
<p>时间复杂度为 $O(n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="127-：-text-Lost-Logic-（-text-2020-11-11-）"><a href="#127-：-text-Lost-Logic-（-text-2020-11-11-）" class="headerlink" title="#$127$：$\text{Lost Logic}$（$\text{2020.11.11}$）"></a>#$127$：$\text{Lost Logic}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-66"><a href="#题目大意：-66" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定三个长度为 $n$ 的 $0,1$ 串，构造一组条件数不超过 $500$ 的 2-SAT 条件使得三个串是唯一的三组解，或报告无解。</p>
<p>$n\leq 50$。</p>
<hr>
<h4 id="题解：-66"><a href="#题解：-66" class="headerlink" title="题解："></a>题解：</h4><p>如果某一位上三个串都是 $0$ 或者都是 $1$，那么这一位相当于没用，直接令它为 $0$ 或 $1$ 即可。</p>
<p>否则，这一位一定是两个一样，另外一个不同，那么我们就把它划进这两个一样的串构成的一个等价类里，于是会有三个等价类（在 $1,2$ 中一样，在 $1,3$ 中一样，在 $2,3$ 中一样)，于是我们令每个等价类中的情况唯一。</p>
<p>最后我们还要判定一下，如果每一位都取那个两个相同的数字，得到的串是否属于一开始的三个串，如果不属于那么无解（无法构造条件使它不满足），否则刚才已经构造出了合法解。</p>
<p>时间复杂度为 $O(n)$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="143-：-text-Jump-（-text-2020-11-11-）"><a href="#143-：-text-Jump-（-text-2020-11-11-）" class="headerlink" title="#$143$：$\text{Jump}$（$\text{2020.11.11}$）"></a>#$143$：$\text{Jump}$（$\text{2020.11.11}$）</h3><h4 id="题目大意：-67"><a href="#题目大意：-67" class="headerlink" title="题目大意："></a>题目大意：</h4><p>你要猜一个长度为偶数 $n$ 的 $0,1$ 串 $S$，每次询问可以给出一个长度为 $n$ 的 $0,1$ 串 $T$，如果 $S$ 与 $T$ 中对应相同的位数恰好为 $n$ 或 $\dfrac{n}{2}$ 的话就会返回这个值，否则会返回 $0$，用不超过 $n+500$ 次操作得到 $S$。</p>
<p>$n\leq 1000$。</p>
<hr>
<h4 id="题解：-67"><a href="#题解：-67" class="headerlink" title="题解："></a>题解：</h4><p>考虑如果已经得到一个能问出 $\dfrac{n}{2}$ 的 $T$，如何得到答案。</p>
<p>如果将 $T$ 中的 $i,j$ 两位分别反转，得到 $T’$，询问 $T’$，如果得到 $0$，说明 $T$ 里面这两位和 $S$ 都相同或都不同，如果得到 $\dfrac{n}{2}$ 就说明这两位有一位相同而另一位不同，令 $i=1$，问 $n-1$ 次就可以知道：当第 $1$ 位与 $S$ 相同或不同时，每一位与 $S$ 相同或不同。</p>
<p>于是候选的 $S$ 只剩两个，都问一次就知道答案了。</p>
<p>问题在于如何找出这个 $T$，然而这个问题的答案是显然的：随机问，似乎是因为 $\lim\limits_{n\to \infty} \dfrac{\binom n {\frac{n}{2}}}{2^n}=\sqrt n$，所以只要大概 $50$ 次以内就可以得到这个 $T$。</p>
<p>询问次数大约为 $n+\sqrt n$。</p>
<p>$\rule[0pt]{14.3cm}{0.1em}$</p>
<h3 id="210-：-text-Sensor-Network-（-text-2020-11-12-）"><a href="#210-：-text-Sensor-Network-（-text-2020-11-12-）" class="headerlink" title="#$210$：$\text{Sensor Network}$（$\text{2020.11.12}$）"></a>#$210$：$\text{Sensor Network}$（$\text{2020.11.12}$）</h3><h4 id="题目大意：-68"><a href="#题目大意：-68" class="headerlink" title="题目大意："></a>题目大意：</h4><p>给定 $n$ 个平面上的点，两点距离 $\leq d$ 就连边，求最大团。</p>
<p>$n\leq 100$。</p>
<hr>
<h4 id="题解：-68"><a href="#题解：-68" class="headerlink" title="题解："></a>题解：</h4><p>解法一：当成普通图，random_shuffle 贪心加点或者搞点暴搜，可以通过。</p>
<p>解法二：靠谱多项式复杂度解法：</p>
<p>枚举两个点，令它们的距离 $d_0$ 是团中最大距离，那么团中剩余的点的范围就是以它们连线段为公共底边的两个等边三角形，可以发现一个三角形内的点两两都有连边，所以要求这个图的最大团，不妨取反图求独立集，这样只有分属两个三角形的点可能有边，也就是一个二分图，做一遍最大匹配即可。</p>
<p>时间复杂度可做到 $O(n^4)$ 左右。</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/09/29/%E8%BF%9C%E5%8F%A4%E6%B8%B8%E8%AE%B0/CSP2019%E6%B8%B8%E8%AE%B0/" rel="prev" title="远古游记 - CSP 2019 游记">
                  <i class="fa fa-chevron-left"></i> 远古游记 - CSP 2019 游记
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/09/29/%E4%B8%93%E9%A2%98%E9%A2%98%E8%A7%A3/IOI2022/" rel="next" title="专题题解 - IOI 2022">
                  专题题解 - IOI 2022 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ix35</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>




  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.0/katex.min.css" integrity="sha256-uik/hNqHWZldXh/0K35nqOSCff9F61/ZOFReqNOBgB0=" crossorigin="anonymous">



</body>
</html>
